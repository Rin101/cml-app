(this["webpackJsonpcml-app"]=this["webpackJsonpcml-app"]||[]).push([[0],{27:function(e,t,a){},28:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(16),c=a.n(s),i=a(3),o=a(50),l=(a(27),a(28),a(29),a(30),a(19)),u=a(0),d=function(e){return Object(u.jsx)("div",{className:"cml-editor-container",children:Object(u.jsx)(l.Controlled,{onBeforeChange:function(t,a,n){e.onChange(n)},value:e.value,className:"cml-editor",options:{lineWrapping:!0,lint:!0,lineNumbers:!0,theme:"material"}})})},j=a(4),p=a(2),m=function(e){var t=Object(n.useRef)(),a=Object(n.useRef)(),r=function(e,t,a){var n=e.target.parentNode.id.split("-");n.shift();var r=Object(p.a)(t);r[parseInt(n[0])][parseInt(n[1])][parseInt(n[2])]=[],a(r)},s=function(t){var a=t.target.parentNode.id.split("-");a.shift();var n=Object(p.a)(e.programData);if(e.jiku>1){var r,s=Object(j.a)(n);try{for(s.s();!(r=s.n()).done;){var c,i=r.value,o=Object(j.a)(i);try{for(o.s();!(c=o.n()).done;){c.value.splice(a[0]-1,1)}}catch(l){o.e(l)}finally{o.f()}}}catch(l){s.e(l)}finally{s.f()}e.setJiku(e.jiku-1)}else n=[[[[]]]],e.setLoopData([]);e.setProgramData(n)},c=function(t){var a=t.currentTarget.id.split("-");a.shift();for(var n=[],r=0;r<=e.jiku-1;)n.push([]),r+=1;var s=Object(p.a)(e.programData);s[parseInt(a[0])].splice(parseInt(a[1]),0,n),e.setProgramData(s)},i=function(e){e.currentTarget.style.backgroundColor="red",e.target.querySelector(".add-row-plus-cont").style.display="flex"},l=function(e){e.currentTarget.style.backgroundColor="white",e.currentTarget.querySelector(".add-row-plus-cont").style.display="none"},d=function(t){var a=t.currentTarget.id.split("-");a.shift();var n,r=Object(p.a)(e.programData),s=Object(j.a)(r);try{for(s.s();!(n=s.n()).done;){var c,i=n.value,o=Object(j.a)(i);try{for(o.s();!(c=o.n()).done;){c.value.splice(parseInt(a[0])-1,0,[])}}catch(l){o.e(l)}finally{o.f()}}}catch(l){s.e(l)}finally{s.f()}e.setProgramData(r),e.setJiku(e.jiku+1)},m=function(e){e.currentTarget.style.backgroundColor="red",e.currentTarget.querySelector(".add-jiku-plus-cont").style.display="flex"},b=function(e){e.currentTarget.style.backgroundColor="white",e.currentTarget.querySelector(".add-jiku-plus-cont").style.display="none"},O=function(t,a){var n=t.currentTarget.parentNode.parentNode.id.split("-");n.shift();var r=Object(p.a)(e.programData),s=r[parseInt(n[0])],c=parseInt(n[1]);switch(a){case"up":if(c>=1){var i=[s[c],s[c-1]];s[c-1]=i[0],s[c]=i[1]}break;case"down":if(c<s.length-1){var o=[s[c],s[c+1]];s[c+1]=o[0],s[c]=o[1]}}e.setProgramData(r)},h=function(t,a){var n=t.currentTarget.parentNode.id.split("-");n.shift();var r=parseInt(n[0]),s=Object(p.a)(e.programData);switch(a){case"left":if(1!==r){var c,i=Object(j.a)(s);try{for(i.s();!(c=i.n()).done;){var o,l=c.value,u=Object(j.a)(l);try{for(u.s();!(o=u.n()).done;){var d=o.value;console.log(r-1);var m=Object(p.a)(d[r-1]);d[r-1]=Object(p.a)(d[r-2]),d[r-2]=m}}catch(y){u.e(y)}finally{u.f()}}}catch(y){i.e(y)}finally{i.f()}}break;case"right":if(r!==e.jiku){var f,b=Object(j.a)(s);try{for(b.s();!(f=b.n()).done;){var O,h=f.value,g=Object(j.a)(h);try{for(g.s();!(O=g.n()).done;){var v=O.value,x=Object(p.a)(v[r-1]);v[r-1]=Object(p.a)(v[r]),v[r]=x}}catch(y){g.e(y)}finally{g.f()}}}catch(y){b.e(y)}finally{b.f()}}}e.setProgramData(s)},g=function(t,a,n){e.setCmlOutput(function(e,t,a){var n,r="",s="",c="",i=Object(j.a)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;c+="B"+(e.indexOf(o)+1).toString()+"\n";var l,u="",d=Object(j.a)(o);try{for(d.s();!(l=d.n()).done;){var p,m=l.value,f=[],b=Object(j.a)(m);try{for(b.s();!(p=b.n()).done;){var O=p.value;if(0!==O.length){var h=m.indexOf(O)+1,g=O[1].toString()+"."+h.toString();switch(O[0]){case"\u4f4d\u7f6e\u6c7a\u3081":s+="S"+g+"="+O[2][0].toString()+"\nA"+g+"="+O[2][1].toString()+"\nP"+g+"="+O[2][2].toString()+"\n",f.push("S".concat(g,",A").concat(g,",P").concat(g));break;case"\u62bc\u4ed8\u3051":s+="S"+g+"="+O[2][0].toString()+"\nA"+g+"="+O[2][1].toString()+"\nP"+g+"="+O[2][2].toString()+"\n",f.push("S".concat(g,",A").concat(g,",Q").concat(g));break;case"\u30c8\u30eb\u30af\u5236\u9650":s+="M"+g+"="+O[2][0].toString()+"\n",f.push("M".concat(g));break;case"\u30bf\u30a4\u30de":s+="T"+g+"="+O[2][0].toString()+"\n",f.push("T".concat(g));break;default:alert("wrong")}}}}catch(D){b.e(D)}finally{b.f()}var v,x="",y="",N=Object(j.a)(t);try{for(N.s();!(v=N.n()).done;){var k=v.value;k[0][0]===e.indexOf(o).toString()&&k[0][1]===o.indexOf(m).toString()&&(x="X".concat(k[2],".1\n")),k[1][0]===e.indexOf(o).toString()&&k[1][1]===o.indexOf(m).toString()&&(y="X.1-\n")}}catch(D){N.e(D)}finally{N.f()}u+=x+f.join(",")+"\n"+y}}catch(D){d.e(D)}finally{d.f()}c+=u+"\n"}}catch(D){i.e(D)}finally{i.f()}if(r+=s+"\n",r+=c+"\n",a)return r+"END\nK81=1\n        K82=1\n        L1.1\n        I1.1,JL2.1,T0.1\n        I2.1,JL3.1,T0.1\n        I3.1,JL4.1,T0.1\n        I4.1,].1:].1,T0.1\n        L2.1\n        [1.1\n        I1.1,W0.1,JL1.1\n        L3.1\n        [2.1\n        I2.1,W0.1,JL1.1\n        L4.1\n        [3.1\n        I3.1,W0.1,JL1.1\n        END\n        ";return r+"END"}(t,a,n))},v=function(e){e.target.parentNode.querySelector(".typeDataInDousa").style.display="flex"},x=function(e){e.currentTarget.className="dousa-box"};function y(t){"\u7e70\u308a\u8fd4\u3057"!==e.currentDraggedCommand&&"\u52d5\u4f5c\u30b0\u30eb\u30fc\u30d7\u3092\u8ffd\u52a0"!==e.currentDraggedCommand&&"NOPE"!==e.currentDraggedCommand&&t.preventDefault()}function N(t){"\u7e70\u308a\u8fd4\u3057"!==e.currentDraggedCommand&&"\u52d5\u4f5c\u30b0\u30eb\u30fc\u30d7\u3092\u8ffd\u52a0"!==e.currentDraggedCommand&&"NOPE"!==e.currentDraggedCommand&&(t.preventDefault(),t.target.className+=" pg-empty-hovered")}function k(e){e.target.className="pg-empty-box"}function D(t){var a=t.target.id.split("-");a.shift();var n=Object(p.a)(e.programData);if("\u7e70\u308a\u8fd4\u3057"===e.currentDraggedCommand||"\u52d5\u4f5c\u30b0\u30eb\u30fc\u30d7\u3092\u8ffd\u52a0"===e.currentDraggedCommand||"NOPE"===e.currentDraggedCommand||e.currentDraggedCommand.includes("-")){if(e.currentDraggedCommand.includes("-")){var r=e.currentDraggedCommand.split("-");r.shift(),n[parseInt(a[0])][parseInt(a[1])][parseInt(a[2])]=n[parseInt(r[0])][parseInt(r[1])][parseInt(r[2])],n[parseInt(r[0])][parseInt(r[1])][parseInt(r[2])]=[],e.setProgramData(n)}}else n[parseInt(a[0])][parseInt(a[1])][parseInt(a[2])]=[e.currentDraggedCommand,1,["initial","initial","initial"]],e.setProgramData(n)}var C=function(t,a){var n=t.currentTarget.parentNode.parentNode.id.split("-");n.shift();var r,s=Object(p.a)(e.loopData);s.forEach((function(e){e[0][0]===n[0]&&e[0][1]===n[1]&&(r=s.indexOf(e))}));var c=!0;switch(a){case"top-up":s.forEach((function(e){s.indexOf(e)!==r&&e[1][0]===s[r][0][0]&&e[1][1]===s[r][0][1]&&(c=!1)})),c&&parseInt(s[r][0][1])>=1&&(s[r][0][1]=(parseInt(s[r][0][1])-1).toString());break;case"top-down":s[r][0][1]!==s[r][1][1]&&(s[r][0][1]=(parseInt(s[r][0][1])+1).toString());break;case"bottom-up":s[r][0][1]!==s[r][1][1]&&(s[r][1][1]=(parseInt(s[r][1][1])-1).toString());break;case"bottom-down":var i,o=Object(j.a)(s);try{for(o.s();!(i=o.n()).done;){var l=i.value;s.indexOf(l)!==r&&l[0][0]===s[r][1][0]&&l[0][1]===s[r][1][1]&&(c=!1)}}catch(d){o.e(d)}finally{o.f()}var u=e.programData[s[r][1][0]].length;c&&parseInt(s[r][1][1])<u-1&&(s[r][1][1]=(parseInt(s[r][1][1])+1).toString())}e.setLoopData(s)};return Object(u.jsxs)("div",{className:"program-block",children:[function(n){for(var o=[Object(u.jsx)("div",{className:"pg-l-empty pglemp0"},"first-pg-l-empty-box")],g=[],w=1;w<=e.jiku;)1===w?g.push(Object(u.jsxs)("div",{className:"jiku-number",id:"jiku-"+w,children:[Object(u.jsx)("div",{className:"add-jiku-left",id:"addJiku-"+w,onClick:function(e){return d(e)},onMouseEnter:function(e){return m(e)},onMouseLeave:function(e){return b(e)},children:Object(u.jsx)("div",{className:"add-jiku-plus-cont",children:Object(u.jsx)("i",{className:"fas fa-plus"})})}),Object(u.jsx)("div",{className:"add-jiku-right",id:"addJiku-"+(w+1),onClick:function(e){return d(e)},onMouseEnter:function(e){return m(e)},onMouseLeave:function(e){return b(e)},children:Object(u.jsx)("div",{className:"add-jiku-plus-cont",children:Object(u.jsx)("i",{className:"fas fa-plus"})})}),Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-left move-jiku",onClick:function(e){return h(e,"left")}}),Object(u.jsxs)("p",{children:[w,"\u8ef8\u76ee",Object(u.jsx)("i",{className:"fas fa-trash trash-jiku",onClick:function(e){return s(e)}})]}),Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-right move-jiku",onClick:function(e){return h(e,"right")}})]},"jiku"+w)):g.push(Object(u.jsxs)("div",{className:"jiku-number",id:"jiku-"+w,children:[Object(u.jsx)("div",{className:"add-jiku-right",id:"addJiku-"+(w+1),onClick:function(e){return d(e)},onMouseEnter:function(e){return m(e)},onMouseLeave:function(e){return b(e)},children:Object(u.jsx)("div",{className:"add-jiku-plus-cont",children:Object(u.jsx)("i",{className:"fas fa-plus"})})}),Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-left move-jiku",onClick:function(e){return h(e,"left")}}),Object(u.jsxs)("p",{children:[w,"\u8ef8\u76ee",Object(u.jsx)("i",{className:"fas fa-trash trash-jiku",onClick:function(e){return s(e)}})]}),Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-right move-jiku",onClick:function(e){return h(e,"right")}})]},"jiku"+w)),w+=1;g.push(Object(u.jsx)("div",{className:"empty-right-box"},"empRbox-0firrrst")),g.push(Object(u.jsx)("div",{className:"grid-line",style:{gridColumn:"1/"+(e.jiku+1)}},"first-grid-line-key")),g.push(Object(u.jsx)("div",{className:"empty-right-box"},"empRbox-ggggllllliiinnneeee"));var I,S=0,L=Object(j.a)(n);try{var T=function(){var n=I.value;o.push(Object(u.jsx)("div",{className:"pg-l-empty pglempgroup"},"pglempty"+S)),g.push(Object(u.jsxs)("div",{className:"dousa-group-kaishi unselectable",style:{gridColumn:"1/"+(e.jiku+1)},id:"dousaGroup-"+S,children:[Object(u.jsxs)("p",{children:["\u52d5\u4f5c\u30b0\u30eb\u30fc\u30d7",S+1,"\u306e\u958b\u59cb"]}),Object(u.jsx)("i",{className:"fas fa-trash",onClick:function(t){return function(t,a,n,r,s){var c=t.target.parentNode.id.split("-");c.shift();var i=Object(p.a)(a);if(i.length>1)i.splice(parseInt(c[0]),1);else{i=[[[]]];for(var o=1;o<=e.jiku;)i[0][0].push([]),o+=1}var l=Object(p.a)(r);l.forEach((function(e){e[0][0]===c[0]&&c.push(l.indexOf(e))}));for(var u=l.length;u--;)l[u][0][0]===c[0]&&l.splice(u,1);n(i),s(l)}(t,e.programData,e.setProgramData,e.loopData,e.setLoopData)}})]},"dousagroup-"+S)),g.push(Object(u.jsx)("div",{className:"empty-right-box"},"empRbox-"+S));var s,d=[],m=0,b=Object(j.a)(n);try{var h=function(){var b=s.value,h=void 0;e.loopData.forEach((function(t){if(t[0][0]===S.toString()&&t[0][1]===m.toString()){h=t[2];for(var a=t[1][1]-t[0][1]+1,n=2.3*a+(a-1)*(.2+.4),r=0;r<a;r++)d.push("loop");var s=[Object(u.jsxs)("div",{className:"loop-drag-top",children:[Object(u.jsx)("div",{onClick:function(e){return C(e,"top-up")},children:Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-up"})}),Object(u.jsx)("div",{onClick:function(e){return C(e,"top-down")},children:Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-down"})})]},"loopdragtop"),Object(u.jsxs)("div",{className:"loop-drag-bottom",children:[Object(u.jsx)("div",{onClick:function(e){return C(e,"bottom-up")},children:Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-up"})}),Object(u.jsx)("div",{onClick:function(e){return C(e,"bottom-down")},children:Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-down"})})]},"loop-drag-bottom")];t[0][1]===t[1][1]&&(s=[Object(u.jsx)("div",{className:"loop-drag-top",children:Object(u.jsx)("div",{onClick:function(e){return C(e,"top-up")},children:Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-up"})})},"loopdragtop"),Object(u.jsx)("div",{className:"loop-drag-bottom",children:Object(u.jsx)("div",{onClick:function(e){return C(e,"bottom-down")},children:Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-down"})})},"loop-drag-bottom")]),o.push(Object(u.jsxs)("div",{className:"pg-l-loop unselectable",style:{height:n+"rem"},id:"loop-"+S+"-"+m,children:[Object(u.jsx)(f,{loopData:e.loopData,setLoopData:e.setLoopData,dousaType:"\u7e70\u308a\u8fd4\u3057",dousaNum:0}),s.map((function(e){return e})),Object(u.jsxs)("p",{className:"loop-title",onClick:function(e){return v(e)},children:["\u7e70\u308a\u8fd4\u3057",h,"\u56de"]}),Object(u.jsx)("i",{className:"fas fa-trash trash-block",onClick:function(t){return function(e,t,a){var n=e.target.parentNode.id.split("-");n.shift();var r=Object(p.a)(t),s=-1;r.forEach((function(e){e[0][0]===n[0]&&e[0][1]===n[1]&&(s=r.indexOf(e))})),-1!==s&&r.splice(s,1),a(r)}(t,e.loopData,e.setLoopData)}})]},"pglloop"+b))}})),0===d.length?o.push(Object(u.jsx)("div",{className:"pg-l-empty-loop",id:"emptyloop-"+S+"-"+m,onDragOver:function(t){return function(t){"\u7e70\u308a\u8fd4\u3057"===e.currentDraggedCommand&&t.preventDefault()}(t)},onDragEnter:function(t){return function(t){"\u7e70\u308a\u8fd4\u3057"===e.currentDraggedCommand&&(t.preventDefault(),t.target.className+=" pg-l-empty-loop-hovered")}(t)},onDragLeave:function(e){return function(e){e.target.className="pg-l-empty-loop"}(e)},onDrop:function(t){return function(t){var a=t.target.id.split("-");a.shift();var n=Object(p.a)(e.loopData);"\u7e70\u308a\u8fd4\u3057"===e.currentDraggedCommand&&(n.push([[a[0],a[1]],[a[0],a[1]],2]),e.setLoopData(n))}(t)}},"pglemploop-"+S+"-"+m)):d.shift(),0===m&&(g.push(Object(u.jsx)("div",{ref:t,id:"addRow-"+S+"-0",onClick:function(e){return c(e)},onMouseEnter:function(e){return i(e)},onMouseLeave:function(e){return l(e)},className:"pg-add-row",style:{gridColumn:"1/"+(e.jiku+1)},children:Object(u.jsx)("div",{className:"add-row-plus-cont",children:Object(u.jsx)("i",{className:"fas fa-plus"})})},"addrow0"+S+"-"+m)),g.push(Object(u.jsx)("div",{className:"empty-right-box"},"empRbox-"+S+"-"+m)));var w,I=0,L=Object(j.a)(b);try{for(L.s();!(w=L.n()).done;){var T=w.value;0!==T.length?T[2].includes("initial")?g.push(Object(u.jsxs)("div",{className:"dousa-box unselectable",draggable:"true",onDragStart:function(e){},onDragEnd:function(e){return x(e)},onMouseEnter:function(t){return e.setCurrentDraggedCommand(t.currentTarget.id)},id:"dousa-"+S+"-"+m+"-"+I,children:[Object(u.jsx)("div",{className:"no-value-circle"}),Object(u.jsx)(f,{programData:e.programData,setProgramData:e.setProgramData,dousaType:T[0],dousaNum:T[1]}),Object(u.jsxs)("p",{onClick:function(e){return v(e)},children:[T[0],T[1]]}),Object(u.jsx)("i",{className:"fas fa-trash",onClick:function(t){return r(t,e.programData,e.setProgramData)}})]},S+"dousabox"+m+"-"+I)):g.push(Object(u.jsxs)("div",{className:"dousa-box unselectable",draggable:"true",onDragStart:function(e){},onDragEnd:function(e){return x(e)},onMouseEnter:function(t){return e.setCurrentDraggedCommand(t.currentTarget.id)},id:"dousa-"+S+"-"+m+"-"+I,children:[Object(u.jsx)(f,{programData:e.programData,setProgramData:e.setProgramData,dousaType:T[0],dousaNum:T[1]}),Object(u.jsxs)("p",{onClick:function(e){return v(e)},children:[T[0],T[1]]}),Object(u.jsx)("i",{className:"fas fa-trash",onClick:function(t){return r(t,e.programData,e.setProgramData)}})]},S+"dousabox"+m+"-"+I)):g.push(Object(u.jsx)("div",{ref:a,onDragOver:function(e){return y(e)},onDragEnter:function(e){return N(e)},onDragLeave:function(e){return k(e)},onDrop:function(e){return D(e)},className:"pg-empty-box",id:"dousa-"+S+"-"+m+"-"+I},S+"emptybox"+m+"-"+I)),I+=1}}catch(R){L.e(R)}finally{L.f()}g.push(Object(u.jsxs)("div",{className:"trash-row-right-box",id:"trashRow-"+S+"-"+m,children:[Object(u.jsx)("i",{onClick:function(t){return function(t,a,n,r,s){var c=t.currentTarget.parentNode.id.split("-");c.shift();var i=Object(p.a)(a);if(i[parseInt(c[0])].length>1)i[parseInt(c[0])].splice(parseInt(c[1]),1);else{for(var o=[],l=1;l<=e.jiku;)o.push([]),l+=1;i[parseInt(c[0])]=[o]}var u=Object(p.a)(r);u.forEach((function(e){e[0][0]===c[0]&&e[0][1]===c[1]?e[1][1]===e[0][1]&&u.splice(u.indexOf(e),1):e[1][0]===c[0]&&e[1][1]===c[1]&&(e[1]=[c[0],(parseInt(c[1])-1).toString()])})),u.forEach((function(e){a[parseInt(e[0][0])].length-1<e[1][1]-parseInt(e[0][1])&&(e[1][1]=(parseInt(e[1][1])-1).toString())})),n(i),s(u)}(t,e.programData,e.setProgramData,e.loopData,e.setLoopData)},className:"fas fa-trash"}),Object(u.jsxs)("div",{className:"move-row-cont",children:[Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-up move-row-up",onClick:function(e){return O(e,"up")}}),Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-down move-row-down",onClick:function(e){return O(e,"down")}})]})]},"trashR-"+S+"-"+m)),m!==n.length-1?(g.push(Object(u.jsx)("div",{ref:t,id:"addRow-"+S+"-"+(m+1),onClick:function(e){return c(e)},onMouseEnter:function(e){return i(e)},onMouseLeave:function(e){return l(e)},className:"pg-add-row",style:{gridColumn:"1/"+(e.jiku+1)},children:Object(u.jsx)("div",{className:"add-row-plus-cont",children:Object(u.jsx)("i",{className:"fas fa-plus"})})},"addrow"+S+"-"+m)),g.push(Object(u.jsx)("div",{className:"empty-right-box"},"empRboxaddR-"+S+"-"+m))):(g.push(Object(u.jsx)("div",{ref:t,id:"addRow-"+S+"-"+(m+1),onClick:function(e){return c(e)},onMouseEnter:function(e){return i(e)},onMouseLeave:function(e){return l(e)},onDragOver:function(t){return function(t){"\u52d5\u4f5c\u30b0\u30eb\u30fc\u30d7\u3092\u8ffd\u52a0"===e.currentDraggedCommand&&t.preventDefault()}(t)},onDragEnter:function(e){return function(e){e.currentTarget.style.backgroundColor="red",e.currentTarget.querySelector(".add-row-plus-cont").style.display="flex"}(e)},onDragLeave:function(e){return function(e){e.currentTarget.style.backgroundColor="white",e.currentTarget.querySelector(".add-row-plus-cont").style.display="none"}(e)},onDrop:function(t){return function(t){var a=t.currentTarget.id.split("-");a.shift();var n=Object(p.a)(e.programData);if("\u52d5\u4f5c\u30b0\u30eb\u30fc\u30d7\u3092\u8ffd\u52a0"===e.currentDraggedCommand){for(var r=[[]],s=0;s<e.jiku;s++)r[0].push([]);n.splice(a[0]+1,0,r),e.setProgramData(n)}t.currentTarget.style.backgroundColor="white",t.currentTarget.querySelector(".add-row-plus-cont").style.display="none"}(t)},className:"pg-add-row",style:{gridColumn:"1/"+(e.jiku+1),height:"0.4rem"},children:Object(u.jsx)("div",{className:"add-row-plus-cont",children:Object(u.jsx)("i",{className:"fas fa-plus"})})},"addrow"+S+"-"+m)),g.push(Object(u.jsx)("div",{className:"empty-right-box"},"empRboxaddR-"+S+"-"+m))),m+=1};for(b.s();!(s=b.n()).done;)h()}catch(w){b.e(w)}finally{b.f()}S+=1};for(L.s();!(I=L.n()).done;)T()}catch(R){L.e(R)}finally{L.f()}return Object(u.jsxs)("div",{className:"program-grid",children:[Object(u.jsx)("div",{className:"pg-left",children:o}),Object(u.jsx)("div",{className:"program-main-grid",style:{gridTemplateColumns:"repeat("+e.jiku+", 3fr) 1fr"},children:g})]})}(e.programData),Object(u.jsx)("div",{className:"enter-button",children:Object(u.jsx)(o.a,{variant:"contained",onClick:function(){return g(e.programData,e.loopData,e.isNyuryokuShingou)},children:"\u5165\u529b"})})]})},f=function(e){var t;switch(e.dousaType){case"\u4f4d\u7f6e\u6c7a\u3081":t=[[Object(u.jsxs)("p",{className:"typedata-var",children:["\u901f\u5ea6\u30c7\u30fc\u30bf",e.dousaNum]},0),Object(u.jsx)("input",{className:"type-data-input"},1),Object(u.jsxs)("p",{className:"type-data-tanni",children:["mm/s",Object(u.jsx)("span",{children:"\u3068"})]},2)],[Object(u.jsxs)("p",{className:"typedata-var",children:["\u52a0\u901f\u5ea6\u30c7\u30fc\u30bf",e.dousaNum]},0),Object(u.jsx)("input",{className:"type-data-input"},1),Object(u.jsxs)("p",{className:"type-data-tanni",children:["mm/s2",Object(u.jsx)("span",{children:"\u3067"})]},2)],[Object(u.jsxs)("p",{className:"typedata-var",children:["\u4f4d\u7f6e\u30c7\u30fc\u30bf",e.dousaNum]},0),Object(u.jsx)("input",{className:"type-data-input"},1),Object(u.jsxs)("p",{className:"type-data-tanni",children:["mm",Object(u.jsx)("span",{children:"\u3078\u79fb\u52d5\u3059\u308b"})]},2)]];break;case"\u62bc\u4ed8\u3051":t=[[Object(u.jsxs)("p",{className:"typedata-var",children:["\u901f\u5ea6\u30c7\u30fc\u30bf",e.dousaNum]},0),Object(u.jsx)("input",{className:"type-data-input"},1),Object(u.jsxs)("p",{className:"type-data-tanni",children:["mm/s",Object(u.jsx)("span",{children:"\u3068"})]},2)],[Object(u.jsxs)("p",{className:"typedata-var",children:["\u52a0\u901f\u5ea6\u30c7\u30fc\u30bf",e.dousaNum]},0),Object(u.jsx)("input",{className:"type-data-input"},1),Object(u.jsxs)("p",{className:"type-data-tanni",children:["mm/s2",Object(u.jsx)("span",{children:"\u3067"})]},2)],[Object(u.jsxs)("p",{className:"typedata-var",children:["\u4f4d\u7f6e\u30c7\u30fc\u30bf",e.dousaNum]},0),Object(u.jsx)("input",{className:"type-data-input"},1),Object(u.jsxs)("p",{className:"type-data-tanni",children:["mm",Object(u.jsx)("span",{children:"\u3078\u62bc\u4ed8\u3051\u52d5\u4f5c\u3059\u308b"})]},2)]];break;case"\u30c8\u30eb\u30af\u5236\u9650":t=[[Object(u.jsxs)("p",{className:"typedata-var",children:["\u30c8\u30eb\u30af\u5236\u9650\u30c7\u30fc\u30bf",e.dousaNum,Object(u.jsx)("span",{children:"\u3092"})]},0),Object(u.jsx)("input",{className:"type-data-input"},1),Object(u.jsxs)("p",{className:"type-data-tanni",children:["%",Object(u.jsx)("span",{children:"\u306b\u8a2d\u5b9a\u3059\u308b"})]},2)]];break;case"\u30bf\u30a4\u30de":t=[[Object(u.jsxs)("p",{className:"typedata-var",children:["\u30bf\u30a4\u30de\u30c7\u30fc\u30bf",e.dousaNum,Object(u.jsx)("span",{children:"\u3092"})]},0),Object(u.jsx)("input",{className:"type-data-input"},1),Object(u.jsxs)("p",{className:"type-data-tanni",children:["msec",Object(u.jsx)("span",{children:"\u306b\u8a2d\u5b9a\u3059\u308b"})]},2)]];break;case"\u7e70\u308a\u8fd4\u3057":t=[[Object(u.jsx)("input",{className:"type-data-input"},0),Object(u.jsxs)("p",{className:"type-data-tanni",children:["\u56de",Object(u.jsx)("span",{children:"\u7e70\u308a\u8fd4\u3059"})]},1)]];break;default:t=[[Object(u.jsx)("div",{children:"NOPE"})]]}return Object(u.jsxs)("div",{className:"typeDataInDousa",children:[Object(u.jsx)("div",{className:"close-typedata",children:Object(u.jsx)("i",{onClick:function(e){return function(e){e.target.parentNode.parentNode.style.display="none"}(e)},className:"fas fa-times-circle"})}),Object(u.jsxs)("div",{className:"typedata-input-line",children:[Object(u.jsx)("p",{className:"typedata-var",children:"\u756a\u53f7:"}),Object(u.jsx)("input",{className:"type-data-input"},"input-num")]},"input-num-line"),t.map((function(e){return Object(u.jsx)("div",{className:"typedata-input-line",children:e},t.indexOf(e)+e)})),Object(u.jsx)(o.a,{className:"type-data-button",variant:"contained",onClick:function(t){return function(t){var a=!0;if(t.target.parentNode.querySelectorAll(".type-data-input").forEach((function(e){isNaN(parseInt(e.value))&&(a=!1)})),a){var n=t.target.parentNode.parentNode.id.split("-");n.shift();var r=[];t.target.parentNode.querySelectorAll(".type-data-input").forEach((function(e){r.push(e.value)}));var s=r[0];if(r.shift(),"\u7e70\u308a\u8fd4\u3057"!==e.dousaType){var c=Object(p.a)(e.programData);c[parseInt(n[0])][parseInt(n[1])][parseInt(n[2])][2]=r,c[parseInt(n[0])][parseInt(n[1])][parseInt(n[2])][1]=s,e.setProgramData(c)}else{var i=e.loopData;i=i.map((function(e){return e[0][0]===n[0]&&e[0][1]===n[1]?(e[2]=r[0],e):e})),e.setLoopData(i)}t.target.parentNode.style.display="none"}else alert("\u6570\u5b57\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044")}(t)},children:"OK"})]})};var b=a(14),O=a.n(b),h=a(21),g=function(e){var t=Object(n.useRef)(),a=function(){var t={name:"cml-import",data:{programData:e.programData,loopData:e.loopData}};!function(e,t,a){var n=new Blob([e],{type:a});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(n,t);else{var r=document.createElement("a"),s=URL.createObjectURL(n);r.href=s,r.download=t,document.body.appendChild(r),r.click(),setTimeout((function(){document.body.removeChild(r),window.URL.revokeObjectURL(s)}),0)}}(JSON.stringify(t),"CML-\u9014\u4e2d\u4fdd\u5b58",".txt")},r=e.isNyuryokuShingou?"\u30aa\u30f3":"\u30aa\u30d5";return Object(u.jsxs)("div",{ref:t,className:"top-menu",children:[Object(u.jsx)("div",{className:"top-menu-button save-file unselectable",onClick:function(){return a()},children:"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u4fdd\u5b58"}),Object(u.jsx)("div",{className:"top-menu-button import-file unselectable",children:Object(u.jsxs)("label",{htmlFor:"top-menu-file-upload",children:["\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f",Object(u.jsx)("input",{id:"top-menu-file-upload",accept:".txt",type:"file",onChange:function(t){return function(t){var a=new FileReader;a.onload=function(){var t=Object(h.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=JSON.parse(a.result);try{e.setProgramData(r.data.programData),e.setLoopData(r.data.loopData)}catch(n){alert("\u30d5\u30a1\u30a4\u30eb\u304c\u9593\u9055\u3063\u3066\u3044\u307e\u3059")}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.readAsText(t.target.files[0],"utf-8")}(t)}})]})}),Object(u.jsx)("div",{className:"top-menu-button tannikannsann",onClick:function(){return t.current.querySelector(".tannikannsann-popup").style.display="flex",void(e.layerRef.current.style.display="block")},children:"\u5358\u4f4d\u63db\u7b97"}),Object(u.jsx)(v,{layerRef:e.layerRef,topMenuRef:t,closeTanni:function(e,t){e.current.querySelector(".tannikannsann-popup").style.display="none",t.current.style.display="none"}}),Object(u.jsxs)("div",{className:"top-menu-button unpressed-nyuryoku-shingou",onClick:function(t){return function(t){var a="K81=1\n        K82=1\n        L1.1\n        I1.1,JL2.1,T0.1\n        I2.1,JL3.1,T0.1\n        I3.1,JL4.1,T0.1\n        I4.1,].1:].1,T0.1\n        L2.1\n        [1.1\n        I1.1,W0.1,JL1.1\n        L3.1\n        [2.1\n        I2.1,W0.1,JL1.1\n        L4.1\n        [3.1\n        I3.1,W0.1,JL1.1\n        END";if(t.currentTarget.classList.contains("pressed-nyuryoku-shingou")){if(e.cmlOutput.includes(a)){var n=e.cmlOutput;e.setCmlOutput(n.replace(a,""))}t.target.classList.remove("pressed-nyuryoku-shingou"),t.target.classList.add("unpressed-nyuryoku-shingou"),e.setIsNyuryokuShingou(!1)}else{if(!e.cmlOutput.includes(a)){var r=e.cmlOutput;e.setCmlOutput(r+"\n"+a)}t.target.classList.remove("unpressed-nyuryoku-shingou"),t.target.classList.add("pressed-nyuryoku-shingou"),e.setIsNyuryokuShingou(!0)}}(t)},children:["\u5165\u529b\u4fe1\u53f7: ",r]})]})},v=function(e){var t=Object(n.useState)("\u306d\u3058\u30ea\u30fc\u30c9"),a=Object(i.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(300),l=Object(i.a)(c,2),d=l[0],j=l[1],p=Object(n.useRef)(),m=Object(n.useRef)(),f=Object(n.useRef)(),b=(Object(n.useRef)(),function(){switch(r){default:return["\u306d\u3058\u30ea\u30fc\u30c9","\u306d\u3058\u30ea\u30fc\u30c9"];case"\u30bf\u30a4\u30df\u30f3\u30b0\u30d9\u30eb\u30c8":return["\u30d6\u30fc\u30ea\u76f4\u5f84","\u30d6\u30fc\u30ea\u76f4\u5f84x\u03c0"];case"\u30e9\u30c3\u30af&\u30d4\u30cb\u30aa\u30f3":return["\u30d4\u30cb\u30aa\u30f3\u76f4\u5f84","\u30d4\u30cb\u30aa\u30f3\u76f4\u5f84x\u03c0"]}});return Object(u.jsxs)("div",{className:"tannikannsann-popup",children:[Object(u.jsx)("div",{className:"close-popup close-tannikannsann",onClick:function(){return e.closeTanni(e.topMenuRef,e.layerRef)},children:Object(u.jsx)("i",{className:"fas fa-times-circle"})}),Object(u.jsxs)("div",{className:"tannikannsann-main",children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"select-bunnkainou",children:[Object(u.jsx)("p",{children:"\u5206\u89e3\u80fd: "}),Object(u.jsx)(x,{setItem:j,itemArr:[300,600,1e3,1200,2e3,3e3,5e3,6e3,1e4,12e3]}),Object(u.jsx)("p",{children:"ppr"})]}),Object(u.jsx)("div",{className:"type-gensoku-hiritu",children:Object(u.jsxs)("table",{children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{}),Object(u.jsx)("th",{children:"\u5165\u529b"}),Object(u.jsx)("th",{children:" : "}),Object(u.jsx)("th",{children:"\u51fa\u529b"})]})}),Object(u.jsx)("tbody",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"\u6e1b\u901f\u6bd4\u7387: "}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{ref:p,type:"text",className:"nyu-shutu-input"})}),Object(u.jsx)("td",{}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{ref:m,type:"text",className:"nyu-shutu-input"})})]})})]})})]}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"select-application",children:[Object(u.jsx)("p",{children:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3: "}),Object(u.jsx)(x,{setItem:s,itemArr:["\u30dc\u30fc\u30eb\u306d\u3058","\u30bf\u30a4\u30df\u30f3\u30b0\u30d9\u30eb\u30c8","\u30e9\u30c3\u30af&\u30d4\u30cb\u30aa\u30f3"]})]}),Object(u.jsx)("div",{className:"type-susumi-ryou",children:Object(u.jsxs)("table",{children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{}),Object(u.jsx)("th",{}),Object(u.jsx)("th",{}),Object(u.jsx)("th",{children:"\u30e2\u30fc\u30bf1\u56de\u8ee2\u306e\u9032\u307f\u91cf"})]})}),Object(u.jsx)("tbody",{children:Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[b()[0],": "]}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{ref:f,type:"text",className:"susumi-ryou-input"})}),Object(u.jsx)("td",{children:"mm"}),Object(u.jsx)("td",{children:b()[1]})]})})]})})]})]}),Object(u.jsx)(o.a,{className:"tannikannsann-ok",variant:"contained",onClick:function(){return function(){parseInt(p.current.value.trim()),parseInt(m.current.value.trim()),parseInt(f.current.value.trim());"\u306d\u3058\u30ea\u30fc\u30c9"===r||parseInt(f.current.value.trim())*Math.PI;parseInt(d),e.closeTanni(e.topMenuRef,e.layerRef)}()},children:"OK"})]})},x=function(e){var t=e.itemArr,a=e.setItem,r=Object(n.useState)(t[0]),s=Object(i.a)(r,2),c=s[0],o=s[1],l=Object(n.useRef)(),d=Object(n.useRef)(),j=function(e){o(e.target.innerText),l.current.style.display="none",a(e.target.innerText)};return Object(u.jsxs)("div",{className:"dropdown-selector",children:[Object(u.jsxs)("div",{ref:d,className:"selected-item unselectable",onClick:function(){l.current.style.display="block"},children:[c,Object(u.jsx)("i",{className:"fas fa-angle-down"})]}),Object(u.jsx)("div",{ref:l,className:"dropdown-items unselectable",children:t.map((function(e){return Object(u.jsx)("div",{className:"dropdown-item unselectable",onClick:function(e){return j(e)},children:e},e)}))})]})},y=function(){var e=function(e,t){var a="CML-app-"+e,r=Object(n.useState)((function(){var e=localStorage.getItem(a);return null!=e?JSON.parse(e):"function"===typeof t?t():t})),s=Object(i.a)(r,2),c=s[0],o=s[1];return Object(n.useEffect)((function(){localStorage.setItem(a,JSON.stringify(c))}),[a,c]),[c,o]}("CML",""),t=Object(i.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(!1),c=Object(i.a)(s,2),l=c[0],j=c[1],p=Object(n.useState)(3),f=Object(i.a)(p,2),b=f[0],O=f[1],h=Object(n.useState)([[[["\u4f4d\u7f6e\u6c7a\u3081",1,[100,100,100]],["\u62bc\u4ed8\u3051",1,[100,100,100]],["\u4f4d\u7f6e\u6c7a\u3081",2,[100,100,100]]],[[],[],["\u30c8\u30eb\u30af\u5236\u9650",1,[100,100,100]]],[[],["\u62bc\u4ed8\u3051",2,[100,100,100]],["\u30c8\u30eb\u30af\u5236\u9650",3,[100,100,100]]],[[],["\u62bc\u4ed8\u3051",3,[100,100,100]],["\u30c8\u30eb\u30af\u5236\u9650",2,[100,100,100]]]],[[[],["\u30bf\u30a4\u30de",2,[100,100,100]],[]]]]),v=Object(i.a)(h,2),x=v[0],y=v[1],N=Object(n.useState)([[["0","0"],["0","2"],4]]),k=Object(i.a)(N,2),D=k[0],C=k[1],w=Object(n.useState)("\u4f4d\u7f6e\u6c7a\u3081"),I=Object(i.a)(w,2),S=I[0],L=I[1],T=Object(n.useRef)(),R=Object(n.useRef)(),E=Object(n.useRef)(),M=Object(n.useRef)(),P=function(e){switch(e.target.id){case"ichigime-selector":L("\u4f4d\u7f6e\u6c7a\u3081");break;case"oshituke-selector":L("\u62bc\u4ed8\u3051");break;case"toruku-selector":L("\u30c8\u30eb\u30af\u5236\u9650");break;case"taima-selector":L("\u30bf\u30a4\u30de");break;case"kurikaeshi-selector":L("\u7e70\u308a\u8fd4\u3057");break;case"dousaGroup-selector":L("\u52d5\u4f5c\u30b0\u30eb\u30fc\u30d7\u3092\u8ffd\u52a0");break;default:L("NOPE")}},J=function(){!function(e,t,a){var n=new Blob([e],{type:a});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(n,t);else{var r=document.createElement("a"),s=URL.createObjectURL(n);r.href=s,r.download=t,document.body.appendChild(r),r.click(),setTimeout((function(){document.body.removeChild(r),window.URL.revokeObjectURL(s)}),0)}}(a,"CML-\u4fdd\u5b58",".txt")};return Object(u.jsxs)("div",{className:"main",children:[Object(u.jsx)("div",{ref:E,className:"layer"}),Object(u.jsx)("div",{className:"command-list-width-box"}),Object(u.jsxs)("div",{className:"command-list",children:[Object(u.jsx)("div",{onMouseEnter:function(e){return P(e)},className:"command-selector",id:"dousaGroup-selector",draggable:"true",children:"\u52d5\u4f5c\u30b0\u30eb\u30fc\u30d7\u3092\u8ffd\u52a0"}),Object(u.jsx)("div",{ref:M,onMouseEnter:function(e){return P(e)},className:"command-selector",id:"ichigime-selector",draggable:"true",children:"\u4f4d\u7f6e\u6c7a\u3081"}),Object(u.jsx)("div",{ref:M,onMouseEnter:function(e){return P(e)},className:"command-selector",id:"oshituke-selector",draggable:"true",children:"\u62bc\u4ed8\u3051"}),Object(u.jsx)("div",{ref:M,onMouseEnter:function(e){return P(e)},className:"command-selector",id:"toruku-selector",draggable:"true",children:"\u30c8\u30eb\u30af\u5236\u9650"}),Object(u.jsx)("div",{ref:M,onMouseEnter:function(e){return P(e)},className:"command-selector",id:"taima-selector",draggable:"true",children:"\u30bf\u30a4\u30de"}),Object(u.jsx)("div",{ref:M,onMouseEnter:function(e){return P(e)},className:"command-selector",id:"kurikaeshi-selector",draggable:"true",children:"\u7e70\u308a\u8fd4\u3057"})]}),Object(u.jsxs)("div",{className:"center-section",children:[Object(u.jsx)(g,{programData:x,setProgramData:y,loopData:D,setLoopData:C,layerRef:E,cmlOutput:a,setCmlOutput:r,isNyuryokuShingou:l,setIsNyuryokuShingou:j}),Object(u.jsx)(m,{isNyuryokuShingou:l,setCmlOutput:r,loopData:D,setLoopData:C,programData:x,setProgramData:y,jiku:b,setJiku:O,currentDraggedCommand:S,setCurrentDraggedCommand:L})]}),Object(u.jsxs)("div",{className:"cml-output-section",children:[Object(u.jsx)("h3",{onClick:function(){return function(e){var t="pop-message-"+Date.now();document.innerHTML+=Object(u.jsxs)("div",{id:t,className:"pop-message message-success",children:[Object(u.jsx)("p",{className:"message-text",children:e}),Object(u.jsx)("i",{className:"fas fa-times",children:"agdsfdgfhkgjfhkdgsfa"})]}),setTimeout((function(){document.querySelector("#".concat(t)).remove()}),4e3)}("FUCK OFF")},children:"CML"}),Object(u.jsx)(d,{value:a,onChange:r}),Object(u.jsxs)("div",{className:"jikkou-button",children:[Object(u.jsx)(o.a,{variant:"contained",onClick:function(){return J()},children:"\u30c6\u30ad\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u30a8\u30af\u30b9\u30dd\u30fc\u30c8"}),Object(u.jsxs)("div",{className:"copy-cml-container",children:[Object(u.jsx)("div",{className:"copy-cml",onMouseEnter:function(){return(e=T).current.classList.add("shown"),e.current.classList.remove("hidden"),void setTimeout((function(){e.current.classList.contains("hidden")||(e.current.style.display="block")}),500);var e},onMouseLeave:function(){return(e=T).current.classList.remove("shown"),e.current.classList.add("hidden"),void(e.current.style.display="none");var e},onClick:function(){return e=a,navigator.clipboard.writeText(e),T.current.style.display="none",R.current.style.display="block",void setTimeout((function(){R.current.style.display="none"}),2e3);var e},children:Object(u.jsx)("i",{className:"fas fa-copy"})}),Object(u.jsx)("div",{ref:T,className:"exp-box exp-copy hidden",children:"\u30b3\u30d4\u30fc"}),Object(u.jsx)("div",{ref:R,className:"exp-box exp-copy-done hidden",children:"\u30b3\u30d4\u30fc\u3055\u308c\u307e\u3057\u305f"})]})]})]})]})};c.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(y,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.e1013af4.chunk.js.map