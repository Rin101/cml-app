{"version":3,"sources":["Editor.js","toCml.js","tanni-funcs.js","programBlock.js","menu.js","App.js","useLocalStorage.js","index.js"],"names":["Editor","props","className","onBeforeChange","editor","data","value","onChange","options","lineWrapping","lint","lineNumbers","theme","toCML","programData","loopData","isNyuryokuShingou","tanniValue","output","every_data_teigi","every_program_teigi","dousa_group","indexOf","toString","dousa_jikkou_of_group","dousa_row","dousa_jikkou_row_arr","dousa","length","dousa_jiku","cml_numbers","getPulseValue","push","alert","loop_start","loop_end","loop","join","valueArr","includes","WizardKikou","params","useState","wizardInput","input","setInput","type","onClick","e","currentTarget","id","name","htmlFor","Button","variant","tmp","history","setHistory","setWizardInput","goNext","WizardSusumiryou","mode","susumiryouText","susumiryouVar","placeholder","parseInt","kikouValue","goBack","setValueArr","WizardGensoku","selectorRef","useRef","changeInput","index","checked","current","style","opacity","querySelectorAll","forEach","readOnly","handleToggle","ref","previousMove","splice","WizardBunkai","bunkaiText","bunkaiVar","setItem","itemArr","getTanniValue","setTanniValue","setApplication","goOK","Dropdown","selectedItem","setSelectedItem","dropdownItems","selectedItemRef","clickItem","target","innerText","display","map","item","ProgramBlock","addRowRef","pgEmptyBox","trashInput","setProgramData","indexArr","parentNode","split","shift","trashJiku","jiku","setJiku","setLoopData","addRow","emptyRow","i","showOnHover","backgroundColor","querySelector","hideOnLeave","addJiku","showOnHoverJiku","hideOnLeaveJiku","moveRow","direction","dousaGroup","rowIndex","moveJiku","current_jiku","console","log","tmp_dousa","showTypeData","obj","Object","preventExtensions","dousaBoxRef","draggable","emptyBoxDragStart","cursor","emptyBoxDragEnd","emptyBoxDragOver","currentDraggedCommand","preventDefault","emptyBoxDragEnter","emptyBoxDragLeave","emptyBoxDragDrop","draggedIndexArr","resizeLoop","mainItemIndex","isDirectionAvailable","rowLength","pg_l_arr","main_grid","jiku_i","onMouseEnter","onMouseLeave","gridColumn","dousa_group_i","tmpLoop","trashGroup","dontPutEmp","dousa_row_i","loopCount","loopHeight","loopStyleHeight","z","dragArrows","height","parentId","dragArrow","trashLoop","onDragOver","emptyBoxLoopDragOver","onDragEnter","emptyBoxLoopDragEnter","onDragLeave","emptyBoxLoopDragLeave","onDrop","emptyBoxLoopDragDrop","dousa_i","onDragStart","onDragEnd","setCurrentDraggedCommand","application","dousaType","dousaNum","trashRow","addGroupDragOver","addGroupDragEnter","addGroupDragLeave","emptyGroup","addGroupDragDrop","gridTemplateColumns","dataToHTML","setCmlOutput","TypeDataInDousa","popupRef","closeTypeData","subTanni","dataFormat","ichigimeData","bangouRange","inputForm","oshitukeData","DousaInputBox","range","inputLine","DataInput","tanniArr","isAllNumber","isNaN","inputs","tanniSelectors","setTypeData","setValue","tanniState","setTanniState","required","tanni","LoopInputBox","NumDropDown","currentNum","setCurrentNum","numItemRef","currentNumRef","selectItem","sameDataArr","isItemsShown","showItems","res","getNumItems","TopMenu","topMenuRef","handleFileSave","filename","file","Blob","window","navigator","msSaveOrOpenBlob","a","document","createElement","url","URL","createObjectURL","href","download","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","downloadFile","JSON","stringify","classList","add","remove","contains","hide","isNyuryoku","expSave","expImp","expTanni","expNyuryoku","accept","reader","FileReader","onload","parse","result","err","readAsText","files","handleFileImport","layerRef","closeTanni","nyuryokuText","cmlOutput","tmpstr","replace","setIsNyuryokuShingou","toggleNyuryokuShingou","Tannikannsann","WizardController","App","key","initialValue","prefixedKey","jsonValue","localStorage","getItem","useEffect","useLocalStorage","expCopy","expCopyDone","commandSelectorRef","commandHover","handleFileExport","cml","clipboard","writeText","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7f654b49.chunk.js","sourcesContent":["import React from 'react'\r\nimport 'codemirror/lib/codemirror.css'\r\nimport 'codemirror/theme/material.css'\r\nimport { Controlled as ControlledEditor } from 'react-codemirror2'\r\n\r\nexport const Editor = (props) => {\r\n\r\n    const handleChange = (editor, data, value) => {\r\n        props.onChange(value)\r\n    }\r\n\r\n    return(\r\n        <div className=\"cml-editor-container\">\r\n            <ControlledEditor \r\n                onBeforeChange={handleChange}\r\n                value={props.value}\r\n                className=\"cml-editor\"\r\n                options={{\r\n                    lineWrapping: true,\r\n                    lint: true,\r\n                    lineNumbers: true,\r\n                    theme: 'material'\r\n                }} \r\n            />\r\n        </div>\r\n    )\r\n}","export const toCML = (programData, loopData, isNyuryokuShingou, tanniValue) => {\r\n    let output = \"\"\r\n    let every_data_teigi = \"\"\r\n    let every_program_teigi = \"\"\r\n    for (let dousa_group of programData) {\r\n        let dousa_group_index = programData.indexOf(dousa_group) + 1\r\n        every_program_teigi += \"B\" + dousa_group_index.toString() + \"\\n\"\r\n        let dousa_jikkou_of_group = \"\"\r\n        for (let dousa_row of dousa_group) {\r\n            let dousa_jikkou_row_arr = []\r\n            for (let dousa of dousa_row) {\r\n                if (dousa.length !== 0) {\r\n                    let dousa_jiku = dousa_row.indexOf(dousa) + 1\r\n                    let cml_numbers = dousa[1].toString() + \".\" + dousa_jiku.toString()\r\n                    switch (dousa[0]) {\r\n                        case \"位置決め\":\r\n                            every_data_teigi += \"S\"+cml_numbers+\"=\"+getPulseValue(dousa[2][0], tanniValue).toString()+\"\\nA\"+cml_numbers+\"=\"+getPulseValue(dousa[2][1], tanniValue).toString()+\"\\nP\"+cml_numbers+\"=\"+getPulseValue(dousa[2][2], tanniValue).toString()+\"\\n\"\r\n                            dousa_jikkou_row_arr.push(`S${cml_numbers},A${cml_numbers},P${cml_numbers}`)\r\n                            break\r\n                        case \"押付け\":\r\n                            every_data_teigi += \"S\"+cml_numbers+\"=\"+getPulseValue(dousa[2][0], tanniValue).toString()+\"\\nA\"+cml_numbers+\"=\"+getPulseValue(dousa[2][1], tanniValue).toString()+\"\\nP\"+cml_numbers+\"=\"+getPulseValue(dousa[2][2], tanniValue).toString()+\"\\n\"\r\n                            dousa_jikkou_row_arr.push(`S${cml_numbers},A${cml_numbers},Q${cml_numbers}`)\r\n                            break\r\n                        case \"トルク制限\":\r\n                            every_data_teigi += \"M\"+cml_numbers+\"=\"+getPulseValue(dousa[2][0], tanniValue).toString()+\"\\n\"\r\n                            dousa_jikkou_row_arr.push(`M${cml_numbers}`)\r\n                            break\r\n                        case \"タイマ\":\r\n                            every_data_teigi += \"T\"+cml_numbers+\"=\"+getPulseValue(dousa[2][0], tanniValue).toString()+\"\\n\"\r\n                            dousa_jikkou_row_arr.push(`T${cml_numbers}`)\r\n                            break\r\n                        default:\r\n                            alert('ERROR')\r\n                            break\r\n                    }\r\n                }\r\n            }\r\n            let loop_start = \"\"\r\n            let loop_end = \"\"\r\n            for (let loop of loopData) {\r\n                if (loop[0][0] === programData.indexOf(dousa_group).toString() && loop[0][1] === dousa_group.indexOf(dousa_row).toString()) {\r\n                    loop_start = `X${loop[2]}.1\\n`\r\n                }\r\n                if (loop[1][0] === programData.indexOf(dousa_group).toString() && loop[1][1] === dousa_group.indexOf(dousa_row).toString()) {\r\n                    loop_end = `\\nX.1-\\n`\r\n                }\r\n            }\r\n            dousa_jikkou_of_group += loop_start + dousa_jikkou_row_arr.join(\",\") + loop_end\r\n        }\r\n        every_program_teigi += dousa_jikkou_of_group\r\n    }\r\n    \r\n    output += every_data_teigi\r\n    output += every_program_teigi\r\n    if (isNyuryokuShingou) {\r\n        let nyuryokuTxt = `\\nK81=1\\nK82=1\\nL1.1\\nI1.1,JL2.1,T0.1\\nI2.1,JL3.1,T0.1\\nI3.1,JL4.1,T0.1\\nI4.1,].1:].1,T0.1\\nL2.1\\n[1.1\\nI1.1,W0.1,JL1.1\\nL3.1\\n[2.1\\nI2.1,W0.1,JL1.1\\nL4.1\\n[3.1\\nI3.1,W0.1,JL1.1\\nEND`\r\n        return output + \"END\" + nyuryokuTxt\r\n    } else {\r\n        return output + \"END\"\r\n    }\r\n}\r\n\r\nconst getPulseValue = (valueArr, tanniValue) => {\r\n    let value = valueArr[0]\r\n    const tanni = valueArr[1]\r\n\r\n    if (tanni.includes(\"pps\" || \"%\" || \"msec\")) {\r\n        return value\r\n    } else {\r\n        return value * tanniValue\r\n    }\r\n}","import { Button } from \"@mui/material\"\r\nimport { useRef, useState } from \"react\"\r\n\r\nexport const WizardKikou = (props) => {\r\n    const params = props.params\r\n\r\n    const [input, setInput] = useState(params.wizardInput)\r\n\r\n    const goNext = () => {\r\n        if (input !== \"インデックステーブル\") {\r\n            let tmp = [...params.history]\r\n            tmp.push([\"kikou\", input])\r\n            params.setHistory(tmp)\r\n            params.setWizardInput([\"susumiryou\", input])\r\n        } else {\r\n            let tmp = [...params.history]\r\n            tmp.push([\"kikou\", input])\r\n            params.setHistory(tmp)\r\n            params.setWizardInput([\"gensoku\", input])\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"tanni-wizard unselectable\">\r\n            <p className=\"tanni-wizard-title\">機構の選択</p>\r\n            <div className=\"tanni-wizard-selector tanni-kikou\">\r\n                <div>\r\n                    <input type=\"radio\" onClick={(e) => setInput(e.currentTarget.value)} id=\"kikou-1\" name=\"kikou-sentaku\" value=\"ボールねじ\"/>\r\n                    <label htmlFor=\"kikou-1\">ボールねじ</label>\r\n                </div>\r\n                <div>\r\n                    <input type=\"radio\" onClick={(e) => setInput(e.currentTarget.value)} id=\"kikou-2\" name=\"kikou-sentaku\" value=\"ベルト駆動\" />\r\n                    <label htmlFor=\"kikou-2\">ベルト駆動</label>\r\n                </div>\r\n                <div>\r\n                    <input type=\"radio\" onClick={(e) => setInput(e.currentTarget.value)} id=\"kikou-3\" name=\"kikou-sentaku\" value=\"ラックアンドピニオン\" />\r\n                    <label htmlFor=\"kikou-3\">ラックアンドピニオン</label>\r\n                </div>\r\n                <div>\r\n                    <input type=\"radio\" onClick={(e) => setInput(e.currentTarget.value)} id=\"kikou-4\" name=\"kikou-sentaku\" value=\"インデックステーブル\" />\r\n                    <label htmlFor=\"kikou-4\">インデックステーブル</label>\r\n                </div>\r\n            </div>\r\n            <div className=\"tanni-wizard-buttons\">\r\n                <Button className=\"tanni-next\" variant=\"contained\" onClick={() => goNext()}>NEXT</Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const WizardSusumiryou = (props) => {\r\n    const params = props.params\r\n    const mode = params.wizardInput\r\n    let susumiryouText = \"\"\r\n    let susumiryouVar = 3.1415926535 // or Math.PI\r\n    const [input, setInput] = useState(0)\r\n\r\n    switch (mode) {\r\n        case \"ボールねじ\":\r\n            susumiryouText = \"ボールねじリード\"\r\n            susumiryouVar = 1\r\n            break\r\n        case \"ベルト駆動\":\r\n            susumiryouText = \"プーリ直径\"\r\n            break\r\n        case \"ラックアンドピニオン\":\r\n            susumiryouText = \"ピニオン直径\"\r\n            break\r\n        default:\r\n            susumiryouText = \"ボールねじリード\"\r\n            break\r\n    }\r\n\r\n    const goNext = () => {\r\n        let tmp = [...params.history]\r\n        tmp.push([\"susumiryou\", parseInt(input)*susumiryouVar])\r\n        params.setHistory(tmp)\r\n        params.setWizardInput([\"gensoku\", input])\r\n        params.setValueArr([parseInt(input)*susumiryouVar, params.valueArr[1], params.valueArr[2]])\r\n    }\r\n\r\n    const goBack = () => {\r\n        let tmp = [...params.history]\r\n        let kikouValue = tmp[0][1]\r\n        params.setHistory([])\r\n        params.setWizardInput([\"kikou\", kikouValue])\r\n    }\r\n\r\n    return (\r\n        <div className=\"tanni-wizard\">\r\n            <p className=\"tanni-wizard-title unselectable\">モータ1回転あたりの進み量</p>\r\n            <div className=\"tanni-wizard-selector tanni-susumi\">\r\n                <div className=\"susumi-1\">\r\n                    <p className='tanni-susumi-p'>{susumiryouText} : </p>\r\n                    <input type=\"number\" placeholder={0} onChange={(e) => setInput(e.currentTarget.value)}/>\r\n                    <p className='tanni-susumi-tanni'> mm</p>\r\n                </div>\r\n                <div className=\"susumi-2\">\r\n                    <p className='tanni-susumi-p'>進み量 : <span>{parseInt(input)*susumiryouVar}</span> mm</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"tanni-wizard-buttons unselectable\">\r\n                <Button className=\"tanni-back\" variant=\"contained\" onClick={() => goBack()}>BACK</Button>\r\n                <Button className=\"tanni-next\" variant=\"contained\" onClick={() => goNext()}>NEXT</Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const WizardGensoku = (props) => {\r\n    const params = props.params\r\n    const [input, setInput] = useState([1, 1])\r\n    const selectorRef = useRef()\r\n\r\n    const goNext = () => {\r\n        let tmp = [...params.history]\r\n        tmp.push([\"gensoku\", input])\r\n        params.setHistory(tmp)\r\n        params.setWizardInput([\"bunkai\", input])\r\n        params.setValueArr([params.valueArr[0], params.valueArr[1], input])\r\n    }\r\n\r\n    const goBack = () => {\r\n        let tmp = [...params.history]\r\n        let index = tmp.length - 1\r\n        const previousMove = tmp[index][0]\r\n        if (index > -1) {\r\n            tmp.splice(index, 1)\r\n        }\r\n        params.setHistory(tmp)\r\n        params.setWizardInput([previousMove, 0])\r\n    }\r\n\r\n    const changeInput = (e, index) => {\r\n        let tmp = [...input]\r\n        tmp[index-1] = parseInt(e.currentTarget.value)\r\n        setInput(tmp)\r\n    }\r\n\r\n    const handleToggle = (e) => {\r\n        if (e.currentTarget.checked) {\r\n            selectorRef.current.style.opacity = \"1\"\r\n            selectorRef.current.querySelectorAll(\"input\").forEach(input => {\r\n                input.readOnly = false\r\n            })\r\n        } else {\r\n            selectorRef.current.style.opacity = \"0.4\"\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"tanni-wizard unselectable\">\r\n            <div className=\"tanni-wizard-title gensoku-title\"><input type=\"checkbox\" onChange={(e) => handleToggle(e)} />減速比率</div>\r\n            <div ref={selectorRef} className=\"tanni-wizard-selector gensoku-selector\">\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>入力</th>\r\n                            <th></th>\r\n                            <th>出力</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td><input type=\"number\" readOnly value={input[0]} onChange={(e) => changeInput(e, 1)}/></td>\r\n                            <td>  :  </td>\r\n                            <td><input type=\"number\" readOnly value={input[1]} onChange={(e) => changeInput(e, 2)}/></td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            <div className=\"tanni-wizard-buttons\">\r\n                <Button className=\"tanni-back\" variant=\"contained\" onClick={() => goBack()}>BACK</Button>\r\n                <Button className=\"tanni-next\" variant=\"contained\" onClick={() => goNext()}>NEXT</Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const WizardBunkai = (props) => {\r\n    const params = props.params\r\n    const mode = params.history[0][1]\r\n    let bunkaiText = \"\"\r\n    let bunkaiVar = 1\r\n    const [input, setInput] = useState(1)\r\n\r\n    switch (mode) {\r\n        case \"インデックステーブル\":\r\n            bunkaiText = \"°\"\r\n            bunkaiVar = 360 / (params.history[1][1][0]/params.history[1][1][1])\r\n            break\r\n        default:\r\n            bunkaiText = \"mm\"\r\n            bunkaiVar = params.history[1][1] / (params.history[2][1][0]/params.history[2][1][1])\r\n            break\r\n    }\r\n\r\n    const goOK = () => {\r\n        let tmp = [...params.history]\r\n        tmp.push([\"bunkai\", bunkaiVar/parseInt(input)])\r\n        params.setHistory(tmp)\r\n        params.setWizardInput([\"bunkai\", bunkaiVar/parseInt(input)])\r\n        let valueArr = [...params.valueArr]\r\n        valueArr[1] = input\r\n        props.getTanniValue(props.setTanniValue, valueArr)\r\n        params.setValueArr(valueArr)\r\n        params.setApplication(params.history[0][1])\r\n    }\r\n\r\n    const goBack = () => {\r\n        let tmp = [...params.history]\r\n        let index = tmp.length - 1\r\n        const previousMove = tmp[index][0]\r\n        if (index > -1) {\r\n            tmp.splice(index, 1)\r\n        }\r\n        params.setHistory(tmp)\r\n        params.setWizardInput([previousMove, 0])\r\n    }\r\n\r\n    return (\r\n        <div className=\"tanni-wizard unselectable\">\r\n            <p className=\"tanni-wizard-title\">最小位置決め単位</p>\r\n            <div className=\"tanni-wizard-selector tanni-bunkai\">\r\n                <div className=\"bunkai-1\">\r\n                    <p className=\"tanni-bunkai-text\">モータ分解能: </p>\r\n                    <Dropdown setItem={setInput} itemArr={[300, 600, 1000, 1200, 2000, 3000, 5000, 6000, 10000, 12000]} />\r\n                    <p className=\"tanni-bunkai-text\">パルス/回転</p>\r\n                </div>\r\n                <div className=\"bunkai-2\">\r\n                    <p className=\"tanni-bunkai-text\">最小位置決め単位: <span>{bunkaiVar/parseInt(input)}</span> {bunkaiText}</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"tanni-wizard-buttons\">\r\n                <Button className=\"tanni-back\" variant=\"contained\" onClick={() => goBack()}>BACK</Button>\r\n                <Button className=\"tanni-ok\" variant=\"contained\" onClick={() => goOK()}>OK</Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Dropdown = (props) => {\r\n    const itemArr = props.itemArr\r\n    const setItem = props.setItem\r\n\r\n    const [selectedItem, setSelectedItem] = useState(itemArr[0])\r\n    const dropdownItems = useRef()\r\n    const selectedItemRef = useRef()\r\n\r\n    const dropdowns = () => {\r\n        return itemArr.map(item => {\r\n            return (\r\n                <div className=\"dropdown-item unselectable\" onClick={(e) => clickItem(e)} key={item}>{item}</div>\r\n            )\r\n        })\r\n    }\r\n\r\n    const showItems = () => {\r\n        dropdownItems.current.style.display = \"block\"\r\n    }\r\n    \r\n    const clickItem = (e) => {\r\n        setSelectedItem(e.target.innerText)\r\n        setItem(e.target.innerText)\r\n        dropdownItems.current.style.display = \"none\"\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"dropdown-selector\">\r\n            <div ref={selectedItemRef} className=\"selected-item unselectable\" onClick={() => showItems()}>{selectedItem}<i className=\"fas fa-angle-down\"></i></div>\r\n            <div ref={dropdownItems} className=\"dropdown-items unselectable\">\r\n                {dropdowns()}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useRef, useState } from 'react'\r\nimport { Button, gridClasses } from '@mui/material';\r\nimport { toCML } from './toCml';\r\nimport { Dropdown } from './tanni-funcs';\r\n\r\nexport const ProgramBlock = (props) => {\r\n    'use strict'\r\n\r\n    const addRowRef = useRef()\r\n    const pgEmptyBox = useRef()\r\n\r\n    const trashInput = (e, programData, setProgramData) => {\r\n        const indexArr = e.target.parentNode.id.split('-')\r\n        indexArr.shift()\r\n        let tmp = [...programData]\r\n        tmp[parseInt(indexArr[0])][parseInt(indexArr[1])][parseInt(indexArr[2])] = []\r\n        setProgramData(tmp) \r\n    }\r\n\r\n    const trashLoop = (e, loopData, setLoopData) => {\r\n        const indexArr = e.target.parentNode.id.split('-')\r\n        indexArr.shift()\r\n        let tmp = [...loopData]\r\n        let index = -1\r\n        tmp.forEach(loop => {\r\n            if (loop[0][0] === indexArr[0] && loop[0][1] === indexArr[1]) {\r\n                index = tmp.indexOf(loop)\r\n            }\r\n        })\r\n        if (index !== -1) {\r\n            tmp.splice(index, 1);\r\n        }\r\n        setLoopData(tmp) \r\n    }\r\n\r\n    const trashRow = (e, programData, setProgramData, loopData, setLoopData) => {\r\n        const indexArr = e.currentTarget.parentNode.id.split('-')\r\n        indexArr.shift()\r\n        let tmp = [...programData]\r\n        if (tmp[parseInt(indexArr[0])].length > 1) {\r\n            tmp[parseInt(indexArr[0])].splice(parseInt(indexArr[1]), 1);        \r\n        } else {\r\n            let emptyRow = []\r\n            let i = 1\r\n            while (i <= props.jiku) {\r\n                emptyRow.push([])\r\n                i += 1\r\n            }\r\n            tmp[parseInt(indexArr[0])] = [emptyRow]\r\n        }\r\n        // ------------------------------------\r\n        // --\r\n        let tmpLoop = [...loopData]\r\n        tmpLoop.forEach(loop => {\r\n            if (loop[0][0] === indexArr[0] && loop[0][1] === indexArr[1]) {\r\n                if (loop[1][1] === loop[0][1]) {\r\n                    tmpLoop.splice(tmpLoop.indexOf(loop), 1);\r\n                }\r\n            } else if (loop[1][0] === indexArr[0] && loop[1][1] === indexArr[1]) {\r\n                loop[1] = [indexArr[0], (parseInt(indexArr[1])-1).toString()]\r\n            }\r\n        })\r\n\r\n        tmpLoop.forEach(loop => {\r\n            if ((programData[parseInt(loop[0][0])].length - 1) < (loop[1][1] - parseInt(loop[0][1]))) {\r\n                loop[1][1] = (parseInt(loop[1][1])-1).toString()\r\n            }\r\n        })\r\n\r\n        setProgramData(tmp)\r\n        setLoopData(tmpLoop) \r\n    }\r\n\r\n    const trashGroup = (e, programData, setProgramData, loopData, setLoopData) => {\r\n        const indexArr = e.target.parentNode.id.split('-')\r\n        indexArr.shift()\r\n        let tmp = [...programData]\r\n        if (tmp.length > 1) {\r\n            tmp.splice(parseInt(indexArr[0]), 1);\r\n        } else {\r\n            tmp = [[[]]]\r\n            let i = 1\r\n            while (i <= props.jiku) {\r\n                tmp[0][0].push([])\r\n                i += 1\r\n            }\r\n        }\r\n        // --\r\n        let tmpLoop = [...loopData]\r\n        tmpLoop.forEach(loop => {\r\n            if (loop[0][0] === indexArr[0]) {\r\n                indexArr.push(tmpLoop.indexOf(loop))\r\n            }\r\n        })\r\n        let i = tmpLoop.length\r\n        while (i--) {\r\n            if (tmpLoop[i][0][0] === indexArr[0]) {\r\n                tmpLoop.splice(i, 1)\r\n            }\r\n        }\r\n        setProgramData(tmp)\r\n        setLoopData(tmpLoop) \r\n    }\r\n\r\n    const trashJiku = (e) => {\r\n        const indexArr = e.target.parentNode.id.split('-')\r\n        indexArr.shift()\r\n        let tmp = [...props.programData]\r\n        if (props.jiku > 1) {\r\n            for (let dousa_group of tmp) {\r\n                for (let dousa_row of dousa_group) {\r\n                    dousa_row.splice(indexArr[0]-1, 1)\r\n                }\r\n            }\r\n            props.setJiku(props.jiku - 1)\r\n        } else {\r\n            tmp = [[[[]]]]\r\n            props.setLoopData([])\r\n        }\r\n        props.setProgramData(tmp)\r\n    }\r\n\r\n    const addRow = (e) => {\r\n        const indexArr = e.currentTarget.id.split('-')\r\n        indexArr.shift()\r\n        let emptyRow = []\r\n        let i = 0\r\n        while (i <= props.jiku-1) {\r\n            emptyRow.push([])\r\n            i += 1\r\n        }\r\n        let tmp = [...props.programData]\r\n        tmp[parseInt(indexArr[0])].splice(parseInt(indexArr[1]), 0, emptyRow)\r\n        props.setProgramData(tmp) \r\n    }\r\n\r\n    const showOnHover = (e) => {\r\n        e.currentTarget.style.backgroundColor = \"red\"\r\n        e.target.querySelector(\".add-row-plus-cont\").style.display = \"flex\"\r\n    }\r\n\r\n    const hideOnLeave = (e) => {\r\n        e.currentTarget.style.backgroundColor = \"white\"\r\n        e.currentTarget.querySelector(\".add-row-plus-cont\").style.display = \"none\"\r\n    }\r\n\r\n    const addJiku = (e) => {\r\n        if (props.jiku <= 14) {\r\n            const indexArr = e.currentTarget.id.split('-')\r\n            indexArr.shift()\r\n            let tmp = [...props.programData]\r\n            for (let dousa_group of tmp) {\r\n                for (let dousa_row of dousa_group) {\r\n                    dousa_row.splice(parseInt(indexArr[0])-1, 0, [])\r\n                }\r\n            }\r\n            props.setProgramData(tmp) \r\n            props.setJiku(props.jiku + 1)\r\n        } else {\r\n            alert(\"軸は最大で15軸設定できます。\")\r\n        }\r\n    }\r\n\r\n    const showOnHoverJiku = (e) => {\r\n        e.currentTarget.style.backgroundColor = \"red\"\r\n        e.currentTarget.querySelector(\".add-jiku-plus-cont\").style.display = \"flex\"\r\n    }\r\n\r\n    const hideOnLeaveJiku = (e) => {\r\n        e.currentTarget.style.backgroundColor = \"white\"\r\n        e.currentTarget.querySelector(\".add-jiku-plus-cont\").style.display = \"none\"\r\n    }\r\n\r\n    const moveRow = (e, direction) => {\r\n        const indexArr = e.currentTarget.parentNode.parentNode.id.split('-')\r\n        indexArr.shift()\r\n        let tmp = [...props.programData]\r\n        const dousaGroup = tmp[parseInt(indexArr[0])]\r\n        const rowIndex = parseInt(indexArr[1])\r\n        switch (direction) {\r\n            case \"up\":\r\n                if (rowIndex >= 1) {\r\n                    [dousaGroup[rowIndex-1], dousaGroup[rowIndex]] = [dousaGroup[rowIndex], dousaGroup[rowIndex-1]]\r\n                }\r\n                break\r\n            case \"down\":\r\n                if (rowIndex < dousaGroup.length-1) {\r\n                    [dousaGroup[rowIndex+1], dousaGroup[rowIndex]] = [dousaGroup[rowIndex], dousaGroup[rowIndex+1]]\r\n                }\r\n                break\r\n            default:\r\n                break\r\n        }\r\n        props.setProgramData(tmp)\r\n    }\r\n\r\n    const moveJiku = (e, direction) => {\r\n        const indexArr = e.currentTarget.parentNode.id.split('-')\r\n        indexArr.shift()\r\n        let current_jiku = parseInt(indexArr[0])\r\n        let tmp = [...props.programData]\r\n        switch (direction) {\r\n            case \"left\":\r\n                if (current_jiku !== 1) {\r\n                    for (let dousa_group of tmp) {\r\n                        for (let dousa_row of dousa_group) {\r\n                            console.log(current_jiku-1)\r\n                            let tmp_dousa = [...dousa_row[current_jiku-1]]\r\n                            dousa_row[current_jiku-1] = [...dousa_row[current_jiku-2]]\r\n                            dousa_row[current_jiku-2] = tmp_dousa\r\n                        }\r\n                    }\r\n                }\r\n                break\r\n            case \"right\":\r\n                if (current_jiku !== props.jiku) {\r\n                    for (let dousa_group of tmp) {\r\n                        for (let dousa_row of dousa_group) {\r\n                            let tmp_dousa = [...dousa_row[current_jiku-1]]\r\n                            dousa_row[current_jiku-1] = [...dousa_row[current_jiku]]\r\n                            dousa_row[current_jiku] = tmp_dousa\r\n                        }\r\n                    }\r\n                }\r\n                break\r\n            default:\r\n                break\r\n        }\r\n        props.setProgramData(tmp)\r\n    }\r\n\r\n    const changeCML = (programData, loopData, isNyuryokuShingou, tanniValue) => {\r\n        props.setCmlOutput(toCML(programData, loopData, isNyuryokuShingou, tanniValue))\r\n    }\r\n\r\n    const showTypeData = (e) => {\r\n        e.target.parentNode.querySelector('.typeDataInDousa').style.display = \"flex\"\r\n        // 'use strict';\r\n        var obj = {};\r\n        obj.draggable = false // add property first and only then prevent extensions\r\n        Object.preventExtensions(obj);\r\n        console.log(dousaBoxRef.current.draggable)\r\n        dousaBoxRef.current.draggable = false\r\n        console.log(dousaBoxRef.current.draggable)\r\n        // dousaBoxRef.current.draggable = \"false\"\r\n        // dousaBoxRef.current.draggable = \"true\"\r\n        // dousaBoxRef.current.style[\"user-select\"] = \"none\"\r\n            // \"user-drag\": \"none\",\r\n            // \"-webkit-user-drag\": \"none\",\r\n            // \"user-select\": \"none\",\r\n            // \"-moz-user-select\": \"none\",\r\n            // \"-webkit-user-select\": \"none\",\r\n            // \"-ms-user-select\": \"none\",\r\n    }\r\n\r\n        \r\n    // Drag Functions\r\n    const emptyBoxDragStart = (e) => {\r\n        // e.currentTarget.className += \"dousa-box\"\r\n        // setTimeout(() => (e.currentTarget.className = 'dragged-box'), 0);\r\n        e.currentTarget.style.cursor = \"grabbing\"\r\n    }\r\n    \r\n    const emptyBoxDragEnd = (e) => {\r\n        e.currentTarget.className = \"dousa-box\"\r\n        e.currentTarget.style.cursor = \"grab\"\r\n    }\r\n\r\n    function emptyBoxDragOver(e) {\r\n        if (props.currentDraggedCommand !== \"繰り返し\" && props.currentDraggedCommand !== \"動作グループを追加\" && props.currentDraggedCommand !== \"NOPE\") {\r\n            e.preventDefault();\r\n        }\r\n    }\r\n\r\n    function emptyBoxDragEnter(e) {\r\n        if (props.currentDraggedCommand !== \"繰り返し\" && props.currentDraggedCommand !== \"動作グループを追加\" && props.currentDraggedCommand !== \"NOPE\") {\r\n            e.preventDefault();\r\n            e.target.className += ' pg-empty-hovered';\r\n        }\r\n    }\r\n\r\n    function emptyBoxDragLeave(e) {\r\n        e.target.className = 'pg-empty-box';\r\n    }\r\n\r\n    function emptyBoxDragDrop(e) {\r\n        const indexArr = e.target.id.split('-')\r\n        indexArr.shift()\r\n        let tmp = [...props.programData]\r\n        if (props.currentDraggedCommand !== \"繰り返し\" && props.currentDraggedCommand !== \"動作グループを追加\" && props.currentDraggedCommand !== \"NOPE\" && !props.currentDraggedCommand.includes(\"-\")) {\r\n            tmp[parseInt(indexArr[0])][parseInt(indexArr[1])][parseInt(indexArr[2])] = [props.currentDraggedCommand, 1, [[\"数値を入力してください\", \"pps\"], [\"数値を入力してください\", \"pps\"], [\"数値を入力してください\", \"pps\"]]]\r\n            props.setProgramData(tmp)\r\n        } else if (props.currentDraggedCommand.includes(\"-\")) {\r\n            let draggedIndexArr = props.currentDraggedCommand.split(\"-\")\r\n            draggedIndexArr.shift()\r\n            tmp[parseInt(indexArr[0])][parseInt(indexArr[1])][parseInt(indexArr[2])] = tmp[parseInt(draggedIndexArr[0])][parseInt(draggedIndexArr[1])][parseInt(draggedIndexArr[2])]\r\n            tmp[parseInt(draggedIndexArr[0])][parseInt(draggedIndexArr[1])][parseInt(draggedIndexArr[2])] = []\r\n            props.setProgramData(tmp)\r\n        }\r\n    }\r\n    // -------\r\n    function emptyBoxLoopDragOver(e) {\r\n        if (props.currentDraggedCommand === \"繰り返し\") {\r\n            e.preventDefault();\r\n        }\r\n    }\r\n\r\n    function emptyBoxLoopDragEnter(e) {\r\n        if (props.currentDraggedCommand === \"繰り返し\") {\r\n            e.preventDefault();\r\n            e.target.className += ' pg-l-empty-loop-hovered';\r\n        }\r\n    }\r\n\r\n    function emptyBoxLoopDragLeave(e) {\r\n        e.target.className = 'pg-l-empty-loop';\r\n    }\r\n\r\n    function emptyBoxLoopDragDrop(e) {\r\n        const indexArr = e.target.id.split('-')\r\n        indexArr.shift()\r\n        let tmp = [...props.loopData]\r\n        if (props.currentDraggedCommand === \"繰り返し\") {\r\n            tmp.push([[indexArr[0], indexArr[1]], [indexArr[0], indexArr[1]], 2])\r\n            props.setLoopData(tmp)\r\n        } \r\n    }\r\n\r\n    const resizeLoop = (e, direction) => {\r\n        const indexArr = e.currentTarget.parentNode.parentNode.id.split('-')\r\n        indexArr.shift()\r\n        let tmp = [...props.loopData]\r\n        let mainItemIndex\r\n        tmp.forEach(loop => {\r\n            if (loop[0][0] === indexArr[0] && loop[0][1] === indexArr[1]) {\r\n                mainItemIndex = tmp.indexOf(loop)\r\n            }\r\n        })\r\n        let isDirectionAvailable = true\r\n        switch(direction) {\r\n            case \"top-up\":\r\n                tmp.forEach(loop => {\r\n                    if ((tmp.indexOf(loop) !== mainItemIndex) && (loop[1][0] === tmp[mainItemIndex][0][0] && loop[1][1] === tmp[mainItemIndex][0][1])) {\r\n                        isDirectionAvailable = false\r\n                    }\r\n                })\r\n                if (isDirectionAvailable && parseInt(tmp[mainItemIndex][0][1]) >= 1) {\r\n                    tmp[mainItemIndex][0][1] = (parseInt(tmp[mainItemIndex][0][1]) - 1).toString()\r\n                }\r\n                break\r\n            case \"top-down\":\r\n                if (tmp[mainItemIndex][0][1] !== tmp[mainItemIndex][1][1]) {\r\n                    tmp[mainItemIndex][0][1] = (parseInt(tmp[mainItemIndex][0][1]) + 1).toString()\r\n                }\r\n                break\r\n            case \"bottom-up\":\r\n                if (tmp[mainItemIndex][0][1] !== tmp[mainItemIndex][1][1]) {\r\n                    tmp[mainItemIndex][1][1] = (parseInt(tmp[mainItemIndex][1][1]) - 1).toString()\r\n                }\r\n                break\r\n            case \"bottom-down\":\r\n                for (let loop of tmp) {\r\n                    if ((tmp.indexOf(loop) !== mainItemIndex) && (loop[0][0] === tmp[mainItemIndex][1][0] && loop[0][1] === tmp[mainItemIndex][1][1])) {\r\n                        isDirectionAvailable = false\r\n                    }\r\n                }\r\n                let rowLength = props.programData[tmp[mainItemIndex][1][0]].length\r\n                if (isDirectionAvailable && parseInt(tmp[mainItemIndex][1][1]) < (rowLength - 1)) {\r\n                    tmp[mainItemIndex][1][1] = (parseInt(tmp[mainItemIndex][1][1]) + 1).toString()\r\n                }\r\n                break          \r\n            default:\r\n                break \r\n        }\r\n        props.setLoopData(tmp)\r\n    }\r\n    // -------\r\n    function addGroupDragOver(e) {\r\n        if (props.currentDraggedCommand === \"動作グループを追加\") {\r\n            e.preventDefault();\r\n        }\r\n    }\r\n\r\n    function addGroupDragEnter(e) {\r\n        e.currentTarget.style.backgroundColor = \"red\"\r\n        e.currentTarget.querySelector(\".add-row-plus-cont\").style.display = \"flex\"\r\n    }\r\n    \r\n    function addGroupDragLeave(e) {\r\n        e.currentTarget.style.backgroundColor = \"white\"\r\n        e.currentTarget.querySelector(\".add-row-plus-cont\").style.display = \"none\"\r\n    }\r\n    \r\n    function addGroupDragDrop(e) {\r\n        let tmp = [...props.programData]\r\n        if (tmp.length <= 29) {\r\n\r\n            const indexArr = e.currentTarget.id.split('-')\r\n            indexArr.shift()\r\n            if (props.currentDraggedCommand === \"動作グループを追加\") {\r\n                let emptyGroup = [[]]\r\n                for (let z = 0; z < props.jiku; z++) emptyGroup[0].push([]);\r\n                tmp.splice((indexArr[0]+1), 0, emptyGroup); \r\n                props.setProgramData(tmp)\r\n            } \r\n            e.currentTarget.style.backgroundColor = \"white\"\r\n            e.currentTarget.querySelector(\".add-row-plus-cont\").style.display = \"none\"\r\n        } else {\r\n            alert(\"動作グループは最大30まで設定できます。\")\r\n        }\r\n    }\r\n\r\n    const dousaBoxRef = useRef()\r\n\r\n    const dataToHTML = (programData) => {\r\n        let pg_l_arr = [<div className=\"pg-l-empty pglemp0\" key={\"first-pg-l-empty-box\"}></div>]\r\n        let main_grid = []\r\n        let jiku_i = 1\r\n        while (jiku_i <= props.jiku) {\r\n            if (jiku_i === 1) {\r\n                main_grid.push(<div className=\"jiku-number unselectable\" id={\"jiku-\"+jiku_i} key={\"jiku\"+jiku_i}><div className=\"add-jiku-left\" id={\"addJiku-\"+jiku_i} onClick={(e) => addJiku(e)} onMouseEnter={(e) => showOnHoverJiku(e)} onMouseLeave={(e) => hideOnLeaveJiku(e)}><div className=\"add-jiku-plus-cont\"><i className=\"fas fa-plus\"></i></div></div><div className=\"add-jiku-right\" id={\"addJiku-\"+(jiku_i+1)} onClick={(e) => addJiku(e)} onMouseEnter={(e) => showOnHoverJiku(e)} onMouseLeave={(e) => hideOnLeaveJiku(e)}><div className=\"add-jiku-plus-cont\"><i className=\"fas fa-plus\"></i></div></div><i className=\"fas fa-arrow-alt-circle-left move-jiku\" onClick={(e) => moveJiku(e, \"left\")}></i><p>{jiku_i}軸目<i className=\"fas fa-trash trash-jiku\" onClick={(e) => trashJiku(e)}></i></p><i className=\"fas fa-arrow-alt-circle-right move-jiku\" onClick={(e) => moveJiku(e, \"right\")}></i></div>)\r\n            } else if (jiku_i === 15) {\r\n                main_grid.push(<div className=\"jiku-number unselectable\" id={\"jiku-\"+jiku_i} key={\"jiku\"+jiku_i}><i className=\"fas fa-arrow-alt-circle-left move-jiku\" onClick={(e) => moveJiku(e, \"left\")}></i><p>{jiku_i}軸目<i className=\"fas fa-trash trash-jiku\" onClick={(e) => trashJiku(e)}></i></p><i className=\"fas fa-arrow-alt-circle-right move-jiku\" onClick={(e) => moveJiku(e, \"right\")}></i></div>)\r\n            } else {\r\n                main_grid.push(<div className=\"jiku-number unselectable\" id={\"jiku-\"+jiku_i} key={\"jiku\"+jiku_i}><div className=\"add-jiku-right\" id={\"addJiku-\"+(jiku_i+1)} onClick={(e) => addJiku(e)} onMouseEnter={(e) => showOnHoverJiku(e)} onMouseLeave={(e) => hideOnLeaveJiku(e)}><div className=\"add-jiku-plus-cont\"><i className=\"fas fa-plus\"></i></div></div><i className=\"fas fa-arrow-alt-circle-left move-jiku\" onClick={(e) => moveJiku(e, \"left\")}></i><p>{jiku_i}軸目<i className=\"fas fa-trash trash-jiku\" onClick={(e) => trashJiku(e)}></i></p><i className=\"fas fa-arrow-alt-circle-right move-jiku\" onClick={(e) => moveJiku(e, \"right\")}></i></div>)\r\n            }\r\n            jiku_i += 1\r\n        }\r\n        main_grid.push(<div className=\"empty-right-box\" key={\"empRbox-0firrrst\"}></div>)\r\n        main_grid.push(<div className=\"grid-line\" style={{gridColumn:\"1/\"+(props.jiku+1)}} key={\"first-grid-line-key\"}></div>)\r\n        main_grid.push(<div className=\"empty-right-box\" key={\"empRbox-ggggllllliiinnneeee\"}></div>)\r\n        let dousa_group_i = 0\r\n        for (let dousa_group of programData) {\r\n            pg_l_arr.push(<div className=\"pg-l-empty pglempgroup\" key={\"pglempty\"+dousa_group_i}></div>)\r\n            main_grid.push(<div className=\"dousa-group-kaishi unselectable\" style={{gridColumn:\"1/\"+(props.jiku+1)}} key={\"dousagroup-\"+dousa_group_i} id={\"dousaGroup-\"+dousa_group_i}><p>動作グループ{dousa_group_i+1}の開始</p><i className=\"fas fa-trash\" onClick={(e) => trashGroup(e, props.programData, props.setProgramData, props.loopData, props.setLoopData)}></i></div>)\r\n            main_grid.push(<div className=\"empty-right-box\" key={\"empRbox-\"+dousa_group_i}></div>)\r\n            let dontPutEmp = []\r\n            let dousa_row_i = 0\r\n            for (let dousa_row of dousa_group) {\r\n                let loopCount\r\n                props.loopData.forEach(loop => {\r\n                    if (loop[0][0] === dousa_group_i.toString() && loop[0][1] === dousa_row_i.toString()) {\r\n                        loopCount = loop[2]\r\n                        let loopHeight = loop[1][1] - loop[0][1] + 1\r\n                        let loopStyleHeight = loopHeight * 2.3 + ((loopHeight-1) * (0.2 + 0.4))\r\n                        for (let z = 0; z < loopHeight; z++) dontPutEmp.push(\"loop\");\r\n                        let dragArrows = [<div className=\"loop-drag-top\" key={\"loopdragtop\"}><div onClick={(e) => resizeLoop(e, \"top-up\")}><i className=\"fas fa-arrow-alt-circle-up\"></i></div><div onClick={(e) => resizeLoop(e, \"top-down\")}><i className=\"fas fa-arrow-alt-circle-down\"></i></div></div>,<div className=\"loop-drag-bottom\" key={\"loop-drag-bottom\"}><div onClick={(e) => resizeLoop(e, \"bottom-up\")}><i className=\"fas fa-arrow-alt-circle-up\"></i></div><div onClick={(e) => resizeLoop(e, \"bottom-down\")}><i className=\"fas fa-arrow-alt-circle-down\"></i></div></div>]\r\n                        if (loop[0][1] === loop[1][1]) {\r\n                            dragArrows = [<div className=\"loop-drag-top\" key={\"loopdragtop\"}><div onClick={(e) => resizeLoop(e, \"top-up\")}><i className=\"fas fa-arrow-alt-circle-up\"></i></div></div>,<div className=\"loop-drag-bottom\" key={\"loop-drag-bottom\"}><div onClick={(e) => resizeLoop(e, \"bottom-down\")}><i className=\"fas fa-arrow-alt-circle-down\"></i></div></div>]\r\n                        }\r\n                        pg_l_arr.push(\r\n                        <div className=\"pg-l-loop unselectable\" style={{height:loopStyleHeight+\"rem\"}} id={\"loop-\"+dousa_group_i+\"-\"+dousa_row_i} key={\"pglloop\"+dousa_row}>\r\n                            <LoopInputBox parentId={\"loop-\"+dousa_group_i+\"-\"+dousa_row_i} loopData={props.loopData} setLoopData={props.setLoopData} />\r\n                            {dragArrows.map(dragArrow => {return dragArrow})}\r\n                            <p className=\"loop-title\" onClick={(e) => showTypeData(e)}>繰り返し{loopCount}回</p>\r\n                            <i className=\"fas fa-trash trash-block\" onClick={(e) => trashLoop(e, props.loopData, props.setLoopData)}></i>\r\n                        </div>)\r\n                    }\r\n                })\r\n                if (dontPutEmp.length === 0) {\r\n                    pg_l_arr.push(<div className=\"pg-l-empty-loop\" id={\"emptyloop-\"+dousa_group_i+\"-\"+dousa_row_i} onDragOver={(e) => emptyBoxLoopDragOver(e)} onDragEnter={(e) => emptyBoxLoopDragEnter(e)} onDragLeave={(e) => emptyBoxLoopDragLeave(e)} onDrop={(e) => emptyBoxLoopDragDrop(e)} key={\"pglemploop-\"+dousa_group_i+\"-\"+dousa_row_i}></div>)\r\n                } else {\r\n                    dontPutEmp.shift()\r\n                }\r\n                if (dousa_row_i === 0) {\r\n                    main_grid.push(<div ref={addRowRef} key={\"addrow0\"+dousa_group_i+\"-\"+dousa_row_i} id={\"addRow-\"+dousa_group_i+\"-0\"} onClick={(e) => addRow(e)} onMouseEnter={(e) => showOnHover(e)} onMouseLeave={(e) => hideOnLeave(e)} className=\"pg-add-row\" style={{gridColumn:\"1/\"+(props.jiku+1)}}><div className=\"add-row-plus-cont\"><i className=\"fas fa-plus\"></i></div></div>)\r\n                    main_grid.push(<div className=\"empty-right-box\" key={\"empRbox-\"+dousa_group_i+\"-\"+dousa_row_i}></div>)\r\n                }\r\n                let dousa_i = 0\r\n                for (let dousa of dousa_row) {\r\n                    if (dousa.length !== 0) {\r\n                        if (dousa[2].includes(\"数値を入力してください\")) {\r\n                            main_grid.push(<div ref={dousaBoxRef} className=\"dousa-box unselectable\" draggable=\"true\" onDragStart={(e) => emptyBoxDragStart(e)} onDragEnd={(e) => emptyBoxDragEnd(e)} onMouseEnter={(e) => props.setCurrentDraggedCommand(e.currentTarget.id)} key={dousa_group_i+\"dousabox\"+dousa_row_i+\"-\"+dousa_i} id={\"dousa-\"+dousa_group_i+\"-\"+dousa_row_i+\"-\"+dousa_i}><div className='no-value-circle'></div><TypeDataInDousa application={props.application} dousaBoxRef={dousaBoxRef} jiku={dousa_i} parentId={\"dousa-\"+dousa_group_i+\"-\"+dousa_row_i+\"-\"+dousa_i} programData={props.programData} setProgramData={props.setProgramData} dousaType={dousa[0]} dousaNum={dousa[1]}/><p className='dousa-title' onClick={(e) => showTypeData(e)} >{dousa[0]}{dousa[1]}</p><i className=\"fas fa-trash\" onClick={(e) => trashInput(e, props.programData, props.setProgramData)}></i></div>)\r\n                        } else {\r\n                            main_grid.push(<div ref={dousaBoxRef} className=\"dousa-box unselectable\" draggable=\"true\" onDragStart={(e) => emptyBoxDragStart(e)} onDragEnd={(e) => emptyBoxDragEnd(e)} onMouseEnter={(e) => props.setCurrentDraggedCommand(e.currentTarget.id)} key={dousa_group_i+\"dousabox\"+dousa_row_i+\"-\"+dousa_i} id={\"dousa-\"+dousa_group_i+\"-\"+dousa_row_i+\"-\"+dousa_i}><TypeDataInDousa application={props.application} dousaBoxRef={dousaBoxRef} jiku={dousa_i} parentId={\"dousa-\"+dousa_group_i+\"-\"+dousa_row_i+\"-\"+dousa_i} programData={props.programData} setProgramData={props.setProgramData} dousaType={dousa[0]} dousaNum={dousa[1]}/><p className='dousa-title' onClick={(e) => showTypeData(e)} >{dousa[0]}{dousa[1]}</p><i className=\"fas fa-trash\" onClick={(e) => trashInput(e, props.programData, props.setProgramData)}></i></div>)\r\n                        }\r\n                    } else {\r\n                        // main_grid.push(<div className=\"dousa-box\"></div>)\r\n                        main_grid.push(<div ref={pgEmptyBox} key={dousa_group_i+\"emptybox\"+dousa_row_i+\"-\"+dousa_i} onDragOver={(e) => emptyBoxDragOver(e)} onDragEnter={(e) => emptyBoxDragEnter(e)} onDragLeave={(e) => emptyBoxDragLeave(e)} onDrop={(e) => emptyBoxDragDrop(e)} className=\"pg-empty-box\" id={\"dousa-\"+dousa_group_i+\"-\"+dousa_row_i+\"-\"+dousa_i}></div>)\r\n                    }\r\n                    dousa_i += 1\r\n                }\r\n                main_grid.push(\r\n                    <div className=\"trash-row-right-box\" key={\"trashR-\"+dousa_group_i+\"-\"+dousa_row_i} id={\"trashRow-\"+dousa_group_i+\"-\"+(dousa_row_i)}>\r\n                        <i onClick={(e) => trashRow(e, props.programData, props.setProgramData, props.loopData, props.setLoopData)} className=\"fas fa-trash\"></i>\r\n                        <div className='move-row-cont'><i className='fas fa-arrow-alt-circle-up move-row-up' onClick={(e) => moveRow(e, \"up\")}></i><i className='fas fa-arrow-alt-circle-down move-row-down' onClick={(e) => moveRow(e, \"down\")}></i></div>\r\n                    </div>)\r\n                if (dousa_row_i !== (dousa_group.length-1)) {\r\n                    main_grid.push(<div ref={addRowRef} key={\"addrow\"+dousa_group_i+\"-\"+dousa_row_i} id={\"addRow-\"+dousa_group_i+\"-\"+(dousa_row_i+1)} onClick={(e) => addRow(e)} onMouseEnter={(e) => showOnHover(e)} onMouseLeave={(e) => hideOnLeave(e)} className=\"pg-add-row\" style={{gridColumn:\"1/\"+(props.jiku+1)}}><div className=\"add-row-plus-cont\"><i className=\"fas fa-plus\"></i></div></div>)\r\n                    main_grid.push(<div className=\"empty-right-box\" key={\"empRboxaddR-\"+dousa_group_i+\"-\"+dousa_row_i}></div>)\r\n                } else {\r\n                    main_grid.push(<div ref={addRowRef} key={\"addrow\"+dousa_group_i+\"-\"+dousa_row_i} id={\"addRow-\"+dousa_group_i+\"-\"+(dousa_row_i+1)} onClick={(e) => addRow(e)} onMouseEnter={(e) => showOnHover(e)} onMouseLeave={(e) => hideOnLeave(e)} onDragOver={(e) => addGroupDragOver(e)} onDragEnter={(e) => addGroupDragEnter(e)} onDragLeave={(e) => addGroupDragLeave(e)} onDrop={(e) => addGroupDragDrop(e)} className=\"pg-add-row\" style={{gridColumn:\"1/\"+(props.jiku+1),height:\"0.4rem\"}}><div className=\"add-row-plus-cont\"><i className=\"fas fa-plus\"></i></div></div>)\r\n                    main_grid.push(<div className=\"empty-right-box\" key={\"empRboxaddR-\"+dousa_group_i+\"-\"+dousa_row_i}></div>)\r\n                }\r\n                dousa_row_i += 1\r\n            }\r\n            dousa_group_i += 1\r\n        }\r\n\r\n        return (\r\n            <div className=\"program-grid\">\r\n                <div className=\"pg-left\">{pg_l_arr}</div>\r\n                <div className=\"program-main-grid\" style={{gridTemplateColumns:\"repeat(\"+props.jiku+\", 3fr) 1fr\"}}>{main_grid}</div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    // initially have 動作グループ1\r\n    return(\r\n        <div className=\"program-block\">\r\n            {dataToHTML(props.programData)}\r\n            <div className=\"enter-button\">\r\n                <Button variant=\"contained\" onClick={() => changeCML(props.programData, props.loopData, props.isNyuryokuShingou, props.tanniValue)}>CMLへ変換</Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst TypeDataInDousa = (props) => {\r\n    // let dousaType = props.dousaType\r\n    // let dousaNum = props.dousaNum\r\n    // let parentId = props.parentId\r\n    const popupRef = useRef()\r\n    // --\r\n    let indexArr = props.parentId.split('-')\r\n    indexArr.shift()\r\n    // -\r\n    let tmp = [...props.programData]\r\n    // --\r\n    const closeTypeData = () => {\r\n        popupRef.current.style.display = \"none\"\r\n        console.log(props.dousaBoxRef.current.draggable)\r\n        props.dousaBoxRef.current.draggable = \"true\"\r\n    }\r\n\r\n    let subTanni = \"mm\"\r\n    if (props.application === \"インデックステーブル\") {\r\n        subTanni = \"°\"\r\n    }\r\n\r\n    const ichigimeData = {\r\n        bangouRange: 250,\r\n        inputForm: [\r\n            [\"速度データ\", [\"pps/s\", subTanni+\"/s\"], \"と\"],\r\n            [\"加速度データ\", [\"pps/s\\u00b2\", subTanni+\"/s\\u00b2\"], \"で\"],\r\n            [\"位置データ\", [\"pps\", subTanni], \"へ移動する\"],\r\n        ]\r\n    }\r\n    const oshitukeData = {\r\n        bangouRange: 250,\r\n        inputForm: [\r\n            [\"速度データ\", [\"pps/s\", subTanni+\"/s\"], \"と\"],\r\n            [\"加速度データ\", [\"pps/s\\u00b2\", subTanni+\"/s\\u00b2\"], \"で\"],\r\n            [\"位置データ\", [\"pps\", subTanni], \"へ押付け動作する\"],\r\n        ]\r\n    }\r\n    const torukuData = {\r\n        bangouRange: 8,\r\n        inputForm: [\r\n            [\"トルク制限データ\", [\"%\"], \"に設定する\"],\r\n        ]\r\n    }\r\n    const timerData = {\r\n        bangouRange: 5,\r\n        inputForm: [\r\n            [\"タイマデータ\", [\"msec\"], \"に設定する\"],\r\n        ]\r\n    }\r\n\r\n    let dataFormat\r\n    switch(props.dousaType) {\r\n        case \"位置決め\":\r\n            dataFormat = ichigimeData\r\n            break\r\n        case \"押付け\":\r\n            dataFormat = oshitukeData\r\n            break\r\n        case \"トルク制限\":\r\n            dataFormat = torukuData\r\n            break\r\n        case \"タイマ\":\r\n            dataFormat = timerData\r\n            break\r\n        default:\r\n            dataFormat = ichigimeData\r\n    }\r\n\r\n    const DousaInputBox = (props) => {\r\n        // props: dataFormat, numdropdown params\r\n        const dataFormat = props.dataFormat\r\n\r\n        const setTypeData = () => {\r\n            let isAllNumber = []\r\n            popupRef.current.querySelectorAll('.type-data-input').forEach(input => {\r\n                if (isNaN(parseInt(input.value))) {\r\n                    isAllNumber.push(\"NAN\")\r\n                }\r\n            })\r\n            if (isAllNumber.length === 0) {\r\n                let tmp = [...props.programData]\r\n                let valueArr = []\r\n                let inputs = popupRef.current.querySelectorAll(\".type-data-input\")\r\n                let tanniSelectors = popupRef.current.querySelectorAll(\".select-tanni\")\r\n                let i = 0\r\n                while (i < inputs.length) {\r\n                    valueArr.push([inputs[i].value, tanniSelectors[i].value])\r\n                    i++\r\n                }\r\n                for (let dousa_group of tmp) {\r\n                    for (let dousa_row of dousa_group) {\r\n                        let dousa = dousa_row[props.jiku]\r\n                        if (dousa[1] === props.dousaNum && dousa[0] === props.dousaType) {\r\n                            dousa[2] = valueArr\r\n                        }\r\n                    }\r\n                }\r\n                tmp[parseInt(indexArr[0])][parseInt(indexArr[1])][parseInt(indexArr[2])][2] = valueArr\r\n                props.setProgramData(tmp)\r\n                // --\r\n                closeTypeData()\r\n            } else {\r\n                isAllNumber = []\r\n                alert('数値を入力してください') \r\n            }\r\n        } \r\n    \r\n        return (\r\n            <div className=\"typeDataInDousa\" ref={popupRef}>\r\n                <div className=\"close-typedata\"><i onClick={() => closeTypeData()} className=\"fas fa-times-circle\"></i></div>\r\n                <div className='typedata-input-line' key={\"input-num-line\"}>\r\n                    <p className='typedata-var'>番号:</p><NumDropDown range={dataFormat.bangouRange} jiku={props.jiku} dousaType={props.dousaType} dousaNum={props.dousaNum} popupRef={props.popupRef} programData={props.programData} setProgramData={props.setProgramData} indexArr={props.indexArr}/>\r\n                </div>\r\n                { dataFormat.inputForm.map(inputLine => {\r\n                    return (\r\n                        <div className=\"typedata-input-line\" key={inputLine[0]}>\r\n                            <p className=\"typedata-var\">{inputLine[0]}</p>\r\n                            <DataInput index={dataFormat.inputForm.indexOf(inputLine)} tanniArr={inputLine[1]} />\r\n                            <p>{inputLine[2]}</p>\r\n                        </div>\r\n                    )\r\n                }) }\r\n                <Button className=\"type-data-button\" variant=\"contained\" onClick={() => setTypeData()}>OK</Button>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const DataInput = (props) => {\r\n        // const data = [100, \"pps\"]\r\n        const index = props.index\r\n        const tanniArr = props.tanniArr\r\n        const [value, setValue] = useState(tmp[parseInt(indexArr[0])][parseInt(indexArr[1])][parseInt(indexArr[2])][2][index][0])\r\n        const [tanniState, setTanniState] = useState(tmp[parseInt(indexArr[0])][parseInt(indexArr[1])][parseInt(indexArr[2])][2][index][1])\r\n        // ---\r\n\r\n        return (\r\n            <>\r\n                <input className=\"type-data-input\" required value={value} onChange={(e) => setValue(e.target.value)} />\r\n                <div className=\"type-data-tanni\">\r\n                    <select className='select-tanni' value={tanniState} onChange={(e) => setTanniState(e.target.value)} >\r\n                        { tanniArr.map(tanni => {\r\n                            return <option key={tanni} value={tanni}>{tanni}</option>\r\n                        }) }\r\n                    </select>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n\r\n    return (<DousaInputBox dataFormat={dataFormat} jiku={props.jiku} dousaType={props.dousaType} dousaNum={props.dousaNum} popupRef={popupRef} programData={props.programData} setProgramData={props.setProgramData} indexArr={indexArr}/>)\r\n}\r\n\r\nconst LoopInputBox = (props) => {\r\n    // props: parentId, loopData, setLoopData\r\n    const popupRef = useRef()\r\n    let indexArr = props.parentId.split('-')\r\n    indexArr.shift()\r\n    // --\r\n    let tmp = [...props.loopData]\r\n    const [value, setValue] = useState(tmp[parseInt(indexArr[0])][2])\r\n    // --\r\n    const closeTypeData = () => {\r\n        popupRef.current.style.display = \"none\"\r\n        props.dousaBoxRef.current.draggable = \"true\"\r\n    }\r\n\r\n    const setTypeData = () => {\r\n        let isAllNumber = []\r\n        if (isNaN(popupRef.current.querySelector('.type-data-input').value)) {\r\n                isAllNumber.push(\"NAN\")\r\n        }\r\n        if (isAllNumber.length === 0) {\r\n            let tmp = [...props.loopData]\r\n            let value = popupRef.current.querySelector(\".type-data-input\").value\r\n            tmp[parseInt(indexArr[0])][2] = value\r\n            props.setLoopData(tmp)\r\n            // --\r\n            closeTypeData()\r\n        } else {\r\n            isAllNumber = []\r\n            alert('数値を入力してください') \r\n        }\r\n    } \r\n\r\n    return (\r\n        <div className=\"typeDataInDousa\" ref={popupRef}>\r\n            <div className=\"close-typedata\"><i onClick={() => closeTypeData()} className=\"fas fa-times-circle\"></i></div>\r\n            <div className=\"typedata-input-line\">\r\n                <input className=\"type-data-input\" required value={value} onChange={(e) => setValue(e.target.value)} />\r\n                <p>回繰り返す</p>\r\n            </div>\r\n            <Button className=\"type-data-button\" variant=\"contained\" onClick={() => setTypeData()}>OK</Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst NumDropDown = (props) => {\r\n    // props: programData, setProgramData, dataType, dataNum, popupRef, jiku, indexArr, range\r\n    const popupRef = props.popupRef\r\n    const indexArr = props.indexArr\r\n    let tmp = [...props.programData]\r\n    \r\n    const [currentNum, setCurrentNum] = useState(tmp[parseInt(indexArr[0])][parseInt(indexArr[1])][parseInt(indexArr[2])][1])\r\n    const numItemRef = useRef()\r\n    const currentNumRef = useRef()\r\n    \r\n    const selectItem = (e) => {\r\n        const value = parseInt(e.currentTarget.id.split(\"-\")[2])\r\n        setCurrentNum(value)\r\n        numItemRef.current.style.display = \"none\"\r\n        let sameDataArr = []\r\n        for (let dousa_group of tmp) {\r\n            for (let dousa_row of dousa_group) {\r\n                let dousa = dousa_row[props.jiku]\r\n                if (dousa[1] === value && dousa[0] === props.dousaType) {\r\n                    sameDataArr.push(dousa[2])\r\n                    console.log(\"hi\")\r\n                }\r\n            }\r\n        }\r\n        if (sameDataArr.length > 0) {\r\n            tmp[parseInt(indexArr[0])][parseInt(indexArr[1])][parseInt(indexArr[2])][2] = sameDataArr[0]\r\n            let inputs = popupRef.current.querySelectorAll(\".type-data-input\")\r\n            let tanniSelectors = popupRef.current.querySelectorAll(\".select-tanni\")\r\n            let i = 0\r\n            while (i < inputs.length) {\r\n                inputs[i].value = sameDataArr[0][i][0]\r\n                tanniSelectors[i].value = sameDataArr[0][i][1]\r\n                i++\r\n            }\r\n        }\r\n        tmp[parseInt(indexArr[0])][parseInt(indexArr[1])][parseInt(indexArr[2])][1] = value\r\n        props.setProgramData(tmp)\r\n    }\r\n    const getNumItems = () => {\r\n        let res = []\r\n        let i = 1\r\n        while (i <= props.range) {\r\n            res.push(<div className='num-dropdown-item' key={i} id={\"num-dropdown-\"+i} onClick={(e) => selectItem(e)}><p>{i}</p></div>)\r\n            i += 1\r\n        }\r\n        return res\r\n    }\r\n    const showItems = () => {\r\n        let isItemsShown = numItemRef.current.style.display !== \"block\" ? false : true\r\n        if (!isItemsShown) {\r\n            numItemRef.current.style.display = \"block\"\r\n        } else {\r\n            numItemRef.current.style.display = \"none\"\r\n        }\r\n    }\r\n    return (\r\n        <div className='num-dropdown'>\r\n            <div className='currentNum-container' onClick={() => showItems()}><p ref={currentNumRef} className='currentNum'>{currentNum}</p><i className='fas fa-caret-down'></i></div>\r\n            <div ref={numItemRef} className='num-dropdown-item-container'>{getNumItems()}</div>\r\n        </div>\r\n    )\r\n}","import { Button } from '@mui/material';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { WizardGensoku, WizardKikou, WizardSusumiryou, WizardBunkai } from './tanni-funcs';\r\nimport { toCML } from './toCml';\r\n\r\n// Function to download data to a file\r\nexport const downloadFile = (data, filename, type) => {\r\n    var file = new Blob([data], {type: type});\r\n    if (window.navigator.msSaveOrOpenBlob) // IE10+\r\n        window.navigator.msSaveOrOpenBlob(file, filename);\r\n    else { // Others\r\n        let a = document.createElement(\"a\"),\r\n        url = URL.createObjectURL(file);\r\n        a.href = url;\r\n        a.download = filename;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        setTimeout(function() {\r\n            document.body.removeChild(a);\r\n            window.URL.revokeObjectURL(url);  \r\n        }, 0); \r\n    }\r\n}\r\n\r\nexport const TopMenu = (props) => {\r\n\r\n    const topMenuRef = useRef()\r\n\r\n    const handleFileImport = (e) => {\r\n        const reader = new FileReader()\r\n        reader.onload = async (e) => { \r\n            // const obj = JSON.parse(e.target.result)\r\n            const obj = JSON.parse(reader.result)\r\n            try {\r\n                props.setJiku(obj.data.jiku)\r\n                props.setProgramData(obj.data.programData)\r\n                props.setLoopData(obj.data.loopData)\r\n                props.setCmlOutput(toCML(obj.data.programData, obj.data.loopData, obj.data.isNyuryokuShingou))\r\n            } catch (err) {\r\n                alert('ファイルが間違っています')\r\n            }\r\n        };\r\n        reader.readAsText(e.target.files[0], \"utf-8\")\r\n    }\r\n\r\n    // Function to download data to a file\r\n    const downloadFile = (data, filename, type) => {\r\n        var file = new Blob([data], {type: type});\r\n        if (window.navigator.msSaveOrOpenBlob) // IE10+\r\n            window.navigator.msSaveOrOpenBlob(file, filename);\r\n        else { // Others\r\n            var a = document.createElement(\"a\"),\r\n                    url = URL.createObjectURL(file);\r\n            a.href = url;\r\n            a.download = filename;\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            setTimeout(function() {\r\n                document.body.removeChild(a);\r\n                window.URL.revokeObjectURL(url);  \r\n            }, 0); \r\n        }\r\n    }\r\n\r\n    const handleFileSave = () => {\r\n        let obj = {\"name\":\"cml-import\",\"data\":{\"jiku\":props.jiku,\"programData\":props.programData,\"loopData\":props.loopData,\"isNyuryokuShingou\":props.isNyuryokuShingou}}\r\n        const data = JSON.stringify(obj)\r\n        const filename = \"CML-途中保存\"\r\n        const type = \".txt\"\r\n        downloadFile(data, filename, type)\r\n    }\r\n\r\n    const display = (ref) => {\r\n        ref.current.classList.add(\"shown\")\r\n        ref.current.classList.remove(\"hidden\")\r\n        setTimeout(() => {\r\n            if (!ref.current.classList.contains(\"hidden\")) {\r\n                ref.current.style.display = \"block\"\r\n            }\r\n        }, 500)\r\n    }\r\n\r\n    const hide = (ref) => {\r\n        ref.current.classList.remove('shown')\r\n        ref.current.classList.add('hidden')\r\n        ref.current.style.display = \"none\"\r\n    }\r\n\r\n    const openTanni = () => {\r\n        topMenuRef.current.querySelector('.tannikannsann-popup').style.display = \"flex\"\r\n        props.layerRef.current.style.display = \"block\"\r\n    }\r\n\r\n    const closeTanni = (topMenuRef, layerRef) => {\r\n        topMenuRef.current.querySelector('.tannikannsann-popup').style.display = \"none\"\r\n        layerRef.current.style.display = \"none\"\r\n    }\r\n\r\n    const toggleNyuryokuShingou = (e) => {\r\n        const nyuryokuText = `\\nK81=1\\nK82=1\\nL1.1\\nI1.1,JL2.1,T0.1\\nI2.1,JL3.1,T0.1\\nI3.1,JL4.1,T0.1\\nI4.1,].1:].1,T0.1\\nL2.1\\n[1.1\\nI1.1,W0.1,JL1.1\\nL3.1\\n[2.1\\nI2.1,W0.1,JL1.1\\nL4.1\\n[3.1\\nI3.1,W0.1,JL1.1\\nEND`\r\n\r\n        let isPressed = e.currentTarget.classList.contains(\"pressed-nyuryoku-shingou\")\r\n        if (isPressed) {\r\n            if (props.cmlOutput.includes(nyuryokuText)) {\r\n                let tmpstr = props.cmlOutput\r\n                props.setCmlOutput(tmpstr.replace(nyuryokuText,''))\r\n            }\r\n            e.target.classList.remove(\"pressed-nyuryoku-shingou\")\r\n            e.target.classList.add(\"unpressed-nyuryoku-shingou\")\r\n            props.setIsNyuryokuShingou(false)\r\n        } else {\r\n            if (!props.cmlOutput.includes(nyuryokuText)) {\r\n                let tmpstr = props.cmlOutput\r\n                props.setCmlOutput(tmpstr+nyuryokuText)\r\n            }\r\n            e.target.classList.remove(\"unpressed-nyuryoku-shingou\")\r\n            e.target.classList.add(\"pressed-nyuryoku-shingou\")\r\n            props.setIsNyuryokuShingou(true)\r\n        }\r\n    }\r\n\r\n    const isNyuryoku = props.isNyuryokuShingou ? \"実行\" : \"停止\"\r\n    // --\r\n    const expSave = useRef() \r\n    const expImp = useRef() \r\n    const expTanni = useRef() \r\n    const expNyuryoku = useRef() \r\n\r\n    return (\r\n        <div ref={topMenuRef} className=\"top-menu\">\r\n            <div className=\"top-menu-button save-file unselectable\" onMouseEnter={() => display(expSave)} onMouseLeave={() => hide(expSave)} onClick={() => handleFileSave()}>\r\n                プロジェクトファイルを保存\r\n                <div ref={expSave} className=\"exp-box hidden\">作成途中のプロジェクトを保存します</div>\r\n            </div>\r\n            \r\n            <div className=\"top-menu-button import-file unselectable\" onMouseEnter={() => display(expImp)} onMouseLeave={() => hide(expImp)}>\r\n                <label htmlFor=\"top-menu-file-upload\">\r\n                    プロジェクトファイルを開く\r\n                    <input id=\"top-menu-file-upload\" accept=\".txt\" type=\"file\" onChange={(e) => handleFileImport(e)}/>\r\n                </label>\r\n                <div ref={expImp} className=\"exp-box hidden\">保存したプロジェクトを開きます</div>\r\n            </div>\r\n            <div className=\"top-menu-button tannikannsann unselectable\" onMouseEnter={() => display(expTanni)} onMouseLeave={() => hide(expTanni)} onClick={() => openTanni()}>\r\n                単位換算\r\n                <div ref={expTanni} className=\"exp-box hidden\">表示単位と分解能を設定します</div>\r\n            </div>\r\n            <Tannikannsann application={props.application} setApplication={props.setApplication} tanniValue={props.tanniValue} setTanniValue={props.setTanniValue} layerRef={props.layerRef} topMenuRef={topMenuRef} closeTanni={closeTanni}/>\r\n            <div className=\"top-menu-button unpressed-nyuryoku-shingou unselectable\" onMouseEnter={() => display(expNyuryoku)} onMouseLeave={() => hide(expNyuryoku)} onClick={(e) => toggleNyuryokuShingou(e)}>\r\n                入力点からの{isNyuryoku}\r\n                <div ref={expNyuryoku} className=\"exp-box hidden\">入力点1～3の機能を動作グループ1～3の実行に、入力点4を停止に割付けます。</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Tannikannsann = (props) => {\r\n    // props: tanniValue, setTanniValue, application, setApplication\r\n    \r\n    const getTanniValue = (setTanniValue, valueArr) => {\r\n        // let tanniValue =  (1/susumiryou) * parseInt(bunkainou) * (nyuryoku/shuturyoku)\r\n        // {/* <p>パルス　=　距離[𝑚𝑚] × (1/進み量[𝑚𝑚⁄回転]) × 分解能[パルス/回転] × (入力/出力)</p> */}\r\n        setTanniValue((1/valueArr[0]) * parseInt(valueArr[1]) * (valueArr[2][0]/valueArr[2][1]))\r\n        props.closeTanni(props.topMenuRef, props.layerRef)\r\n    }\r\n    \r\n    const WizardController = (props) => {\r\n        const [history, setHistory] = useState([])\r\n        const [wizardInput, setWizardInput] = useState([\"kikou\", \"ボールねじ\"])\r\n        const [valueArr, setValueArr] = useState([1, 1, [1, 1]])\r\n\r\n        const inputForm = () => {\r\n            const params = {\r\n                wizardInput: wizardInput[1], \r\n                history, setHistory, setWizardInput,\r\n                valueArr, setValueArr,\r\n                application:props.application, setApplication:props.setApplication\r\n            }\r\n        \r\n            switch (wizardInput[0]) {\r\n                case \"kikou\":\r\n                    return <WizardKikou params={params} />\r\n                case \"susumiryou\":\r\n                    return <WizardSusumiryou params={params} />\r\n                case \"gensoku\":\r\n                    return <WizardGensoku params={params} />\r\n                case \"bunkai\":\r\n                    return <WizardBunkai getTanniValue={getTanniValue} tanniValue={props.tanniValue} setTanniValue={props.setTanniValue} params={params} />\r\n                default:\r\n                    return <WizardKikou params={params} />\r\n            }\r\n        }\r\n\r\n        return (\r\n            <div className='wizard-controller'>\r\n                {/* <div className='wizard-input'> */}\r\n                    {inputForm()}\r\n                {/* </div> */}\r\n                {/* <div className='wizard-buttons'> */}\r\n                {/* </div> */}\r\n            </div>\r\n        )\r\n    } \r\n\r\n    return (\r\n        <div className=\"tannikannsann-popup\">\r\n            <div className=\"close-popup close-tannikannsann\" onClick={() => props.closeTanni(props.topMenuRef, props.layerRef)}><i className=\"fas fa-times-circle\"></i></div>\r\n            <WizardController application={props.application} setApplication={props.setApplication} tanniValue={props.tanniValue} setTanniValue={props.setTanniValue} />\r\n        </div>\r\n    )\r\n}\r\n","import { Button } from '@mui/material';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport './App.css'\r\nimport './program-grid.css'\r\nimport { Editor } from './Editor';\r\nimport { ProgramBlock } from './programBlock';\r\nimport useLocalStorage from './useLocalStorage';\r\nimport { TopMenu, downloadFile } from './menu';\r\nimport { toCML } from './toCml';\r\n\r\nexport const App = () => {\r\n\r\n    const [cmlOutput, setCmlOutput] = useLocalStorage('CML', '')\r\n    const [isNyuryokuShingou, setIsNyuryokuShingou] = useState(false)\r\n    const [jiku, setJiku] = useState(3)\r\n    const [tanniValue, setTanniValue] = useState(100)\r\n    const [application, setApplication] = useState(\"initial\")\r\n    // const [programData, setProgramData] = useState([[[[]]]])\r\n    // const [programData, setProgramData] = useState([\r\n    //     [\r\n    //         [[\"位置決め\", 1, [[100, \"pps\"], [100, \"pps\"], [100, \"pps\"]]], [\"押付け\", 1, [100, 100, 100]], [\"位置決め\", 2, [[100, \"pps\"], [100, \"pps\"], [100, \"pps\"]]]], \r\n    //         [[], [], [\"トルク制限\", 1, [100, 100, 100]]],\r\n    //         [[], [\"押付け\", 2, [100, 100, 100]], [\"トルク制限\", 3, [100, 100, 100]]],\r\n    //         [[], [\"押付け\", 3, [100, 100, 100]], [\"トルク制限\", 2, [100, 100, 100]]],\r\n    //     ],\r\n    //     [\r\n    //         [[], [\"タイマ\", 2, [100, 100, 100]], []]\r\n    //     ]\r\n    // ])\r\n    const [programData, setProgramData] = useState([\r\n        [\r\n            [[\"位置決め\", 1, [[98899898, \"pps\"], [100, \"pps\"], [100, \"pps\"]]], [], [\"位置決め\", 2, [[100, \"pps\"], [100, \"pps\"], [100, \"pps\"]]]], \r\n            [[], [], []],\r\n            [[], [], []],\r\n            [[], [], []],\r\n        ],\r\n        [\r\n            [[], [], []]\r\n        ]\r\n    ])\r\n\r\n    // const [loopData, setLoopData] = useState([])\r\n    const [loopData, setLoopData] = useState([[[\"0\",\"0\"], [\"0\",\"2\"], 4]])\r\n    const [currentDraggedCommand, setCurrentDraggedCommand] = useState(\"位置決め\")\r\n\r\n    const expCopy = useRef()\r\n    const expCopyDone = useRef()\r\n    const layerRef = useRef()\r\n    const commandSelectorRef = useRef()\r\n\r\n    // const popMessage = (message) => {\r\n    //     const id = \"pop-message-\"+Date.now()\r\n    //     document.innerHTML += \r\n    //     <div id={id} className=\"pop-message message-success\">\r\n    //         <p className=\"message-text\">{message}</p>\r\n    //         <i className=\"fas fa-times\">agdsfdgfhkgjfhkdgsfa</i>\r\n    //     </div>\r\n        \r\n    //     setTimeout(() => {\r\n    //         document.querySelector(`#${id}`).remove()\r\n    //     }, 4000)\r\n    // }\r\n\r\n    const getIndex = (document) => {\r\n        let res = document.id.split('-')\r\n        res.shift()\r\n        return res\r\n    }\r\n\r\n    // const commandDragStart = (e) => {\r\n    const commandHover = (e) => {\r\n        switch(e.target.id) {\r\n            case \"ichigime-selector\":\r\n                setCurrentDraggedCommand(\"位置決め\")\r\n                break\r\n            case \"oshituke-selector\":\r\n                setCurrentDraggedCommand(\"押付け\")\r\n                break\r\n            case \"toruku-selector\":\r\n                setCurrentDraggedCommand(\"トルク制限\")\r\n                break\r\n            case \"taima-selector\":\r\n                setCurrentDraggedCommand(\"タイマ\")\r\n                break\r\n            case \"kurikaeshi-selector\":\r\n                setCurrentDraggedCommand(\"繰り返し\")\r\n                break\r\n            case \"dousaGroup-selector\":\r\n                setCurrentDraggedCommand(\"動作グループを追加\")\r\n                break\r\n            default:\r\n                setCurrentDraggedCommand(\"NOPE\")\r\n                break\r\n        }\r\n        // this.className += ' hold';\r\n        // setTimeout(() => (this.className = 'invisible'), 0);\r\n    }\r\n    // function dragEnd() {\r\n    //     this.className = 'fill';\r\n    // }\r\n\r\n    const copyCML = (cml) => {\r\n        navigator.clipboard.writeText(cml);\r\n        expCopy.current.style.display = \"none\"\r\n        expCopyDone.current.style.display = \"block\"\r\n        setTimeout(() => {\r\n            expCopyDone.current.style.display = \"none\"\r\n        }, 2000)\r\n    }\r\n\r\n    const display = (ref) => {\r\n        ref.current.classList.add(\"shown\")\r\n        ref.current.classList.remove(\"hidden\")\r\n        setTimeout(() => {\r\n            if (!ref.current.classList.contains(\"hidden\")) {\r\n                ref.current.style.display = \"block\"\r\n            }\r\n        }, 500)\r\n    }\r\n\r\n    const hide = (ref) => {\r\n        ref.current.classList.remove('shown')\r\n        ref.current.classList.add('hidden')\r\n        ref.current.style.display = \"none\"\r\n    }\r\n\r\n    const handleFileExport = () => {\r\n        const data = cmlOutput\r\n        const filename = \"CML-保存\"\r\n        const type = \".txt\"\r\n        downloadFile(data, filename, type)\r\n    }\r\n    \r\n    return (\r\n        <div className=\"main\">\r\n            <div ref={layerRef} className=\"layer\"></div>\r\n            <div className=\"command-list-width-box\"></div>\r\n            <div className=\"command-list\">\r\n                <div onMouseEnter={(e) => commandHover(e)} className=\"command-selector\" id=\"dousaGroup-selector\" draggable=\"true\"><i className=\"fas fa-grip-vertical\"></i>動作グループを追加</div>\r\n                <div ref={commandSelectorRef} onMouseEnter={(e) => commandHover(e)} className=\"command-selector\" id=\"ichigime-selector\" draggable=\"true\"><i className=\"fas fa-grip-vertical\"></i>位置決め</div>\r\n                <div ref={commandSelectorRef} onMouseEnter={(e) => commandHover(e)} className=\"command-selector\" id=\"oshituke-selector\" draggable=\"true\"><i className=\"fas fa-grip-vertical\"></i>押付け</div>\r\n                <div ref={commandSelectorRef} onMouseEnter={(e) => commandHover(e)} className=\"command-selector\" id=\"toruku-selector\" draggable=\"true\"><i className=\"fas fa-grip-vertical\"></i>トルク制限</div>\r\n                <div ref={commandSelectorRef} onMouseEnter={(e) => commandHover(e)} className=\"command-selector\" id=\"taima-selector\" draggable=\"true\"><i className=\"fas fa-grip-vertical\"></i>タイマ</div>\r\n                <div ref={commandSelectorRef} onMouseEnter={(e) => commandHover(e)} className=\"command-selector\" id=\"kurikaeshi-selector\" draggable=\"true\"><i className=\"fas fa-grip-vertical\"></i>繰り返し</div>\r\n            </div>\r\n            <div className=\"center-section\">\r\n                <TopMenu application={application} setApplication={setApplication} tanniValue={tanniValue} setTanniValue={setTanniValue} programData={programData} setProgramData={setProgramData} loopData={loopData} setLoopData={setLoopData} layerRef={layerRef} cmlOutput={cmlOutput} setCmlOutput={setCmlOutput} isNyuryokuShingou={isNyuryokuShingou} setIsNyuryokuShingou={setIsNyuryokuShingou} jiku={jiku} setJiku={setJiku}/>\r\n                <ProgramBlock application={application} setApplication={setApplication} tanniValue={tanniValue} setTanniValue={setTanniValue} isNyuryokuShingou={isNyuryokuShingou} setCmlOutput={setCmlOutput} loopData={loopData} setLoopData={setLoopData} programData={programData} setProgramData={setProgramData} jiku={jiku} setJiku={setJiku} currentDraggedCommand={currentDraggedCommand} setCurrentDraggedCommand={setCurrentDraggedCommand}/>\r\n            </div>\r\n            <div className=\"cml-output-section\">\r\n                {/* <h3 onClick={() => popMessage(\"what\")}>CML</h3> */}\r\n                <h3 className='unselectable'>CML</h3>\r\n                <Editor value={cmlOutput} onChange={setCmlOutput} />\r\n                <div className=\"jikkou-button\">\r\n                    <Button variant=\"contained\" onClick={() => handleFileExport()}>\r\n                        テキストファイルにエクスポート\r\n                    </Button>\r\n                    <div className=\"copy-cml-container\">\r\n                        <div className=\"copy-cml\" onMouseEnter={() => display(expCopy)} onMouseLeave={() => hide(expCopy)} onClick={() => copyCML(cmlOutput)}><i className=\"fas fa-copy\"></i></div>\r\n                        <div ref={expCopy} className=\"exp-copy hidden\">コピー</div>\r\n                        <div ref={expCopyDone} className=\"exp-copy-done hidden\">コピーされました</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { useEffect, useState } from \"react\"\r\n\r\nconst PREFIX = 'CML-app-'\r\n\r\nexport default function useLocalStorage(key, initialValue) {\r\n    const prefixedKey = PREFIX + key\r\n\r\n    const [value, setValue] = useState(() => {\r\n        const jsonValue = localStorage.getItem(prefixedKey)\r\n        if (jsonValue != null) return JSON.parse(jsonValue)\r\n        \r\n        if (typeof initialValue === 'function') {\r\n            return initialValue()\r\n        } else {\r\n            return initialValue\r\n        }\r\n    })\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem(prefixedKey, JSON.stringify(value))\r\n    }, [prefixedKey, value])\r\n\r\n    return [value, setValue] \r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}